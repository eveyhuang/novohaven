{"ast":null,"code":"import React,{useState,useMemo}from'react';import ReactMarkdown from'react-markdown';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Categorized Reviews Display\nconst CategorizedReviewsDisplay=_ref=>{let{data}=_ref;const[activeTheme,setActiveTheme]=useState(null);const themes=useMemo(()=>{if(!(data!==null&&data!==void 0&&data.theme_summary))return[];return Object.entries(data.theme_summary).map(_ref2=>{let[name,info]=_ref2;return{name,count:info.count,avgRating:info.avg_rating,sentiment:info.sentiment_breakdown};});},[data]);const reviewsByTheme=useMemo(()=>{if(!(data!==null&&data!==void 0&&data.categorized_reviews)||!activeTheme)return[];return data.categorized_reviews.filter(r=>r.primary_theme===activeTheme);},[data,activeTheme]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-secondary-900 mb-4\",children:\"Theme Distribution\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\",children:themes.map(theme=>{var _theme$avgRating;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTheme(activeTheme===theme.name?null:theme.name),className:\"p-4 rounded-lg border text-left transition-all \".concat(activeTheme===theme.name?'border-primary-500 bg-primary-50 ring-2 ring-primary-200':'border-secondary-200 hover:border-primary-300 hover:bg-secondary-50'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-secondary-900\",children:theme.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-primary-600\",children:theme.count}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-secondary-500\",children:[\"Avg: \",((_theme$avgRating=theme.avgRating)===null||_theme$avgRating===void 0?void 0:_theme$avgRating.toFixed(1))||'-',\" stars\"]}),theme.sentiment&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 rounded-full bg-green-500\",title:\"Positive\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-secondary-600\",children:theme.sentiment.positive||0}),/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 rounded-full bg-gray-400 ml-1\",title:\"Neutral\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-secondary-600\",children:theme.sentiment.neutral||0}),/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 rounded-full bg-red-500 ml-1\",title:\"Negative\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-secondary-600\",children:theme.sentiment.negative||0})]})]},theme.name);})})]}),activeTheme&&reviewsByTheme.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-secondary-900 mb-4\",children:[\"Reviews about \\\"\",activeTheme,\"\\\" (\",reviewsByTheme.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-96 overflow-y-auto\",children:reviewsByTheme.map((review,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-secondary-50 rounded-lg border border-secondary-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 rounded text-xs font-medium \".concat(review.sentiment==='positive'?'bg-green-100 text-green-800':review.sentiment==='negative'?'bg-red-100 text-red-800':'bg-gray-100 text-gray-800'),children:review.sentiment}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-secondary-600\",children:[review.rating,\" stars\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-secondary-500\",children:review.emotional_tone})]}),review.key_quote&&/*#__PURE__*/_jsxs(\"blockquote\",{className:\"text-secondary-700 italic border-l-2 border-primary-300 pl-3\",children:[\"\\\"\",review.key_quote,\"\\\"\"]}),review.features_mentioned&&review.features_mentioned.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 flex flex-wrap gap-1\",children:review.features_mentioned.map((feature,fIdx)=>/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-secondary-200 text-secondary-700 rounded text-xs\",children:feature},fIdx))})]},idx))})]})]});};// Positive Analysis Display\nconst PositiveAnalysisDisplay=_ref3=>{var _analysis$average_pos;let{data}=_ref3;const analysis=data===null||data===void 0?void 0:data.positive_analysis;if(!analysis)return/*#__PURE__*/_jsx(\"div\",{className:\"text-secondary-500\",children:\"No positive analysis data available.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4 border border-green-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-green-700\",children:analysis.total_positive_reviews}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600\",children:\"Positive Reviews\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4 border border-green-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-green-700\",children:(_analysis$average_pos=analysis.average_positive_rating)===null||_analysis$average_pos===void 0?void 0:_analysis$average_pos.toFixed(1)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600\",children:\"Average Rating\"})]})]}),analysis.top_praised_features&&analysis.top_praised_features.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-secondary-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 mr-2\",children:\"\\u2605\"}),\"Top Praised Features\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:analysis.top_praised_features.map((feature,idx)=>{var _feature$percentage_o;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-secondary-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-secondary-900\",children:feature.feature}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\",children:[feature.mention_count,\" mentions (\",(_feature$percentage_o=feature.percentage_of_positive)===null||_feature$percentage_o===void 0?void 0:_feature$percentage_o.toFixed(0),\"%)\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600 text-sm mb-2\",children:feature.why_customers_love_it}),feature.representative_quotes&&feature.representative_quotes.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 space-y-1\",children:feature.representative_quotes.slice(0,2).map((quote,qIdx)=>/*#__PURE__*/_jsxs(\"blockquote\",{className:\"text-sm text-secondary-500 italic pl-3 border-l-2 border-green-300\",children:[\"\\\"\",quote,\"\\\"\"]},qIdx))})]},idx);})})]}),analysis.unexpected_delights&&analysis.unexpected_delights.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-secondary-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\u2728\"}),\"Unexpected Delights\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:analysis.unexpected_delights.map((delight,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 border border-purple-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-purple-900\",children:delight.aspect}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-700 mt-1\",children:delight.description})]},idx))})]}),analysis.key_takeaways&&analysis.key_takeaways.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-green-900 mb-2\",children:\"Key Takeaways\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1\",children:analysis.key_takeaways.map((takeaway,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 mr-2\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-800\",children:takeaway})]},idx))})]})]});};// Negative Analysis Display\nconst NegativeAnalysisDisplay=_ref4=>{var _analysis$average_neg;let{data}=_ref4;const analysis=data===null||data===void 0?void 0:data.negative_analysis;if(!analysis)return/*#__PURE__*/_jsx(\"div\",{className:\"text-secondary-500\",children:\"No negative analysis data available.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 rounded-lg p-4 border border-red-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-red-700\",children:analysis.total_negative_reviews}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-600\",children:\"Negative Reviews\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 rounded-lg p-4 border border-red-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-red-700\",children:(_analysis$average_neg=analysis.average_negative_rating)===null||_analysis$average_neg===void 0?void 0:_analysis$average_neg.toFixed(1)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-600\",children:\"Average Rating\"})]})]}),analysis.critical_issues&&analysis.critical_issues.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-secondary-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mr-2\",children:\"\\u26A0\"}),\"Critical Issues\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:analysis.critical_issues.map((issue,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-secondary-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-secondary-900\",children:issue.issue}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(issue.severity==='critical'?'bg-red-100 text-red-800':issue.severity==='major'?'bg-orange-100 text-orange-800':'bg-yellow-100 text-yellow-800'),children:issue.severity}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-red-100 text-red-800 rounded text-sm\",children:[issue.mention_count,\" mentions\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600 text-sm mb-2\",children:issue.impact_on_customer}),issue.representative_quotes&&issue.representative_quotes.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 space-y-1\",children:issue.representative_quotes.slice(0,2).map((quote,qIdx)=>/*#__PURE__*/_jsxs(\"blockquote\",{className:\"text-sm text-secondary-500 italic pl-3 border-l-2 border-red-300\",children:[\"\\\"\",quote,\"\\\"\"]},qIdx))})]},idx))})]}),analysis.requested_features&&analysis.requested_features.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-secondary-900 mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\uD83D\\uDCA1\"}),\"Feature Requests\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:analysis.requested_features.map((feature,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-900\",children:feature.feature}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-0.5 rounded text-xs \".concat(feature.potential_impact==='high'?'bg-blue-200 text-blue-800':feature.potential_impact==='medium'?'bg-blue-100 text-blue-700':'bg-blue-50 text-blue-600'),children:[feature.potential_impact,\" impact\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-600 mt-1\",children:[\"Frequency: \",feature.request_frequency]})]},idx))})]}),analysis.key_improvement_areas&&analysis.key_improvement_areas.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-red-900 mb-2\",children:\"Key Improvement Areas\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1\",children:analysis.key_improvement_areas.map((area,idx)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mr-2\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-red-800\",children:area})]},idx))})]})]});};// Summary Display (Markdown)\nconst SummaryDisplay=_ref5=>{let{data}=_ref5;return/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-sm max-w-none\",children:/*#__PURE__*/_jsx(ReactMarkdown,{children:data})});};export const ReviewAnalysisDisplay=_ref6=>{let{data,type}=_ref6;// Try to parse if data is a string\nlet parsedData=data;if(typeof data==='string'){try{parsedData=JSON.parse(data);}catch(_unused){// Keep as string for summary/markdown\n}}switch(type){case'categorized':return/*#__PURE__*/_jsx(CategorizedReviewsDisplay,{data:parsedData});case'positive':return/*#__PURE__*/_jsx(PositiveAnalysisDisplay,{data:parsedData});case'negative':return/*#__PURE__*/_jsx(NegativeAnalysisDisplay,{data:parsedData});case'summary':return/*#__PURE__*/_jsx(SummaryDisplay,{data:typeof data==='string'?data:JSON.stringify(data,null,2)});default:return/*#__PURE__*/_jsx(\"pre\",{className:\"text-sm overflow-auto\",children:JSON.stringify(parsedData,null,2)});}};export default ReviewAnalysisDisplay;","map":{"version":3,"names":["React","useState","useMemo","ReactMarkdown","jsx","_jsx","jsxs","_jsxs","CategorizedReviewsDisplay","_ref","data","activeTheme","setActiveTheme","themes","theme_summary","Object","entries","map","_ref2","name","info","count","avgRating","avg_rating","sentiment","sentiment_breakdown","reviewsByTheme","categorized_reviews","filter","r","primary_theme","className","children","theme","_theme$avgRating","onClick","concat","toFixed","title","positive","neutral","negative","length","review","idx","rating","emotional_tone","key_quote","features_mentioned","feature","fIdx","PositiveAnalysisDisplay","_ref3","_analysis$average_pos","analysis","positive_analysis","total_positive_reviews","average_positive_rating","top_praised_features","_feature$percentage_o","mention_count","percentage_of_positive","why_customers_love_it","representative_quotes","slice","quote","qIdx","unexpected_delights","delight","aspect","description","key_takeaways","takeaway","NegativeAnalysisDisplay","_ref4","_analysis$average_neg","negative_analysis","total_negative_reviews","average_negative_rating","critical_issues","issue","severity","impact_on_customer","requested_features","potential_impact","request_frequency","key_improvement_areas","area","SummaryDisplay","_ref5","ReviewAnalysisDisplay","_ref6","type","parsedData","JSON","parse","_unused","stringify"],"sources":["/Users/eveyhuang/Documents/novohaven-app/client/src/components/ReviewAnalysis/ReviewAnalysisDisplay.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport ReactMarkdown from 'react-markdown';\n\ninterface ReviewAnalysisDisplayProps {\n  data: any;\n  type: 'categorized' | 'positive' | 'negative' | 'summary';\n}\n\n// Categorized Reviews Display\nconst CategorizedReviewsDisplay: React.FC<{ data: any }> = ({ data }) => {\n  const [activeTheme, setActiveTheme] = useState<string | null>(null);\n\n  const themes = useMemo(() => {\n    if (!data?.theme_summary) return [];\n    return Object.entries(data.theme_summary).map(([name, info]: [string, any]) => ({\n      name,\n      count: info.count,\n      avgRating: info.avg_rating,\n      sentiment: info.sentiment_breakdown,\n    }));\n  }, [data]);\n\n  const reviewsByTheme = useMemo(() => {\n    if (!data?.categorized_reviews || !activeTheme) return [];\n    return data.categorized_reviews.filter(\n      (r: any) => r.primary_theme === activeTheme\n    );\n  }, [data, activeTheme]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Theme Overview */}\n      <div>\n        <h3 className=\"text-lg font-semibold text-secondary-900 mb-4\">Theme Distribution</h3>\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n          {themes.map((theme) => (\n            <button\n              key={theme.name}\n              onClick={() => setActiveTheme(activeTheme === theme.name ? null : theme.name)}\n              className={`p-4 rounded-lg border text-left transition-all ${\n                activeTheme === theme.name\n                  ? 'border-primary-500 bg-primary-50 ring-2 ring-primary-200'\n                  : 'border-secondary-200 hover:border-primary-300 hover:bg-secondary-50'\n              }`}\n            >\n              <div className=\"font-medium text-secondary-900\">{theme.name}</div>\n              <div className=\"text-2xl font-bold text-primary-600\">{theme.count}</div>\n              <div className=\"text-xs text-secondary-500\">\n                Avg: {theme.avgRating?.toFixed(1) || '-'} stars\n              </div>\n              {theme.sentiment && (\n                <div className=\"flex items-center space-x-1 mt-2\">\n                  <span className=\"w-2 h-2 rounded-full bg-green-500\" title=\"Positive\" />\n                  <span className=\"text-xs text-secondary-600\">{theme.sentiment.positive || 0}</span>\n                  <span className=\"w-2 h-2 rounded-full bg-gray-400 ml-1\" title=\"Neutral\" />\n                  <span className=\"text-xs text-secondary-600\">{theme.sentiment.neutral || 0}</span>\n                  <span className=\"w-2 h-2 rounded-full bg-red-500 ml-1\" title=\"Negative\" />\n                  <span className=\"text-xs text-secondary-600\">{theme.sentiment.negative || 0}</span>\n                </div>\n              )}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Reviews for Selected Theme */}\n      {activeTheme && reviewsByTheme.length > 0 && (\n        <div>\n          <h3 className=\"text-lg font-semibold text-secondary-900 mb-4\">\n            Reviews about \"{activeTheme}\" ({reviewsByTheme.length})\n          </h3>\n          <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n            {reviewsByTheme.map((review: any, idx: number) => (\n              <div\n                key={idx}\n                className=\"p-4 bg-secondary-50 rounded-lg border border-secondary-200\"\n              >\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`px-2 py-0.5 rounded text-xs font-medium ${\n                      review.sentiment === 'positive' ? 'bg-green-100 text-green-800' :\n                      review.sentiment === 'negative' ? 'bg-red-100 text-red-800' :\n                      'bg-gray-100 text-gray-800'\n                    }`}>\n                      {review.sentiment}\n                    </span>\n                    <span className=\"text-sm text-secondary-600\">\n                      {review.rating} stars\n                    </span>\n                  </div>\n                  <span className=\"text-xs text-secondary-500\">\n                    {review.emotional_tone}\n                  </span>\n                </div>\n                {review.key_quote && (\n                  <blockquote className=\"text-secondary-700 italic border-l-2 border-primary-300 pl-3\">\n                    \"{review.key_quote}\"\n                  </blockquote>\n                )}\n                {review.features_mentioned && review.features_mentioned.length > 0 && (\n                  <div className=\"mt-2 flex flex-wrap gap-1\">\n                    {review.features_mentioned.map((feature: string, fIdx: number) => (\n                      <span\n                        key={fIdx}\n                        className=\"px-2 py-0.5 bg-secondary-200 text-secondary-700 rounded text-xs\"\n                      >\n                        {feature}\n                      </span>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Positive Analysis Display\nconst PositiveAnalysisDisplay: React.FC<{ data: any }> = ({ data }) => {\n  const analysis = data?.positive_analysis;\n  if (!analysis) return <div className=\"text-secondary-500\">No positive analysis data available.</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Overview */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-green-50 rounded-lg p-4 border border-green-200\">\n          <div className=\"text-3xl font-bold text-green-700\">{analysis.total_positive_reviews}</div>\n          <div className=\"text-sm text-green-600\">Positive Reviews</div>\n        </div>\n        <div className=\"bg-green-50 rounded-lg p-4 border border-green-200\">\n          <div className=\"text-3xl font-bold text-green-700\">{analysis.average_positive_rating?.toFixed(1)}</div>\n          <div className=\"text-sm text-green-600\">Average Rating</div>\n        </div>\n      </div>\n\n      {/* Top Praised Features */}\n      {analysis.top_praised_features && analysis.top_praised_features.length > 0 && (\n        <div>\n          <h3 className=\"text-lg font-semibold text-secondary-900 mb-3 flex items-center\">\n            <span className=\"text-green-500 mr-2\">â˜…</span>\n            Top Praised Features\n          </h3>\n          <div className=\"space-y-3\">\n            {analysis.top_praised_features.map((feature: any, idx: number) => (\n              <div key={idx} className=\"bg-white border border-secondary-200 rounded-lg p-4\">\n                <div className=\"flex items-start justify-between mb-2\">\n                  <h4 className=\"font-medium text-secondary-900\">{feature.feature}</h4>\n                  <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\">\n                    {feature.mention_count} mentions ({feature.percentage_of_positive?.toFixed(0)}%)\n                  </span>\n                </div>\n                <p className=\"text-secondary-600 text-sm mb-2\">{feature.why_customers_love_it}</p>\n                {feature.representative_quotes && feature.representative_quotes.length > 0 && (\n                  <div className=\"mt-2 space-y-1\">\n                    {feature.representative_quotes.slice(0, 2).map((quote: string, qIdx: number) => (\n                      <blockquote key={qIdx} className=\"text-sm text-secondary-500 italic pl-3 border-l-2 border-green-300\">\n                        \"{quote}\"\n                      </blockquote>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Unexpected Delights */}\n      {analysis.unexpected_delights && analysis.unexpected_delights.length > 0 && (\n        <div>\n          <h3 className=\"text-lg font-semibold text-secondary-900 mb-3 flex items-center\">\n            <span className=\"mr-2\">âœ¨</span>\n            Unexpected Delights\n          </h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n            {analysis.unexpected_delights.map((delight: any, idx: number) => (\n              <div key={idx} className=\"bg-purple-50 border border-purple-200 rounded-lg p-3\">\n                <h4 className=\"font-medium text-purple-900\">{delight.aspect}</h4>\n                <p className=\"text-sm text-purple-700 mt-1\">{delight.description}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Key Takeaways */}\n      {analysis.key_takeaways && analysis.key_takeaways.length > 0 && (\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n          <h3 className=\"font-semibold text-green-900 mb-2\">Key Takeaways</h3>\n          <ul className=\"space-y-1\">\n            {analysis.key_takeaways.map((takeaway: string, idx: number) => (\n              <li key={idx} className=\"flex items-start\">\n                <span className=\"text-green-500 mr-2\">âœ“</span>\n                <span className=\"text-green-800\">{takeaway}</span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Negative Analysis Display\nconst NegativeAnalysisDisplay: React.FC<{ data: any }> = ({ data }) => {\n  const analysis = data?.negative_analysis;\n  if (!analysis) return <div className=\"text-secondary-500\">No negative analysis data available.</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Overview */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-red-50 rounded-lg p-4 border border-red-200\">\n          <div className=\"text-3xl font-bold text-red-700\">{analysis.total_negative_reviews}</div>\n          <div className=\"text-sm text-red-600\">Negative Reviews</div>\n        </div>\n        <div className=\"bg-red-50 rounded-lg p-4 border border-red-200\">\n          <div className=\"text-3xl font-bold text-red-700\">{analysis.average_negative_rating?.toFixed(1)}</div>\n          <div className=\"text-sm text-red-600\">Average Rating</div>\n        </div>\n      </div>\n\n      {/* Critical Issues */}\n      {analysis.critical_issues && analysis.critical_issues.length > 0 && (\n        <div>\n          <h3 className=\"text-lg font-semibold text-secondary-900 mb-3 flex items-center\">\n            <span className=\"text-red-500 mr-2\">âš </span>\n            Critical Issues\n          </h3>\n          <div className=\"space-y-3\">\n            {analysis.critical_issues.map((issue: any, idx: number) => (\n              <div key={idx} className=\"bg-white border border-secondary-200 rounded-lg p-4\">\n                <div className=\"flex items-start justify-between mb-2\">\n                  <h4 className=\"font-medium text-secondary-900\">{issue.issue}</h4>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`px-2 py-1 rounded text-xs font-medium ${\n                      issue.severity === 'critical' ? 'bg-red-100 text-red-800' :\n                      issue.severity === 'major' ? 'bg-orange-100 text-orange-800' :\n                      'bg-yellow-100 text-yellow-800'\n                    }`}>\n                      {issue.severity}\n                    </span>\n                    <span className=\"px-2 py-1 bg-red-100 text-red-800 rounded text-sm\">\n                      {issue.mention_count} mentions\n                    </span>\n                  </div>\n                </div>\n                <p className=\"text-secondary-600 text-sm mb-2\">{issue.impact_on_customer}</p>\n                {issue.representative_quotes && issue.representative_quotes.length > 0 && (\n                  <div className=\"mt-2 space-y-1\">\n                    {issue.representative_quotes.slice(0, 2).map((quote: string, qIdx: number) => (\n                      <blockquote key={qIdx} className=\"text-sm text-secondary-500 italic pl-3 border-l-2 border-red-300\">\n                        \"{quote}\"\n                      </blockquote>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Requested Features */}\n      {analysis.requested_features && analysis.requested_features.length > 0 && (\n        <div>\n          <h3 className=\"text-lg font-semibold text-secondary-900 mb-3 flex items-center\">\n            <span className=\"mr-2\">ðŸ’¡</span>\n            Feature Requests\n          </h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n            {analysis.requested_features.map((feature: any, idx: number) => (\n              <div key={idx} className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                <div className=\"flex items-start justify-between\">\n                  <h4 className=\"font-medium text-blue-900\">{feature.feature}</h4>\n                  <span className={`px-2 py-0.5 rounded text-xs ${\n                    feature.potential_impact === 'high' ? 'bg-blue-200 text-blue-800' :\n                    feature.potential_impact === 'medium' ? 'bg-blue-100 text-blue-700' :\n                    'bg-blue-50 text-blue-600'\n                  }`}>\n                    {feature.potential_impact} impact\n                  </span>\n                </div>\n                <p className=\"text-xs text-blue-600 mt-1\">Frequency: {feature.request_frequency}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Key Improvement Areas */}\n      {analysis.key_improvement_areas && analysis.key_improvement_areas.length > 0 && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <h3 className=\"font-semibold text-red-900 mb-2\">Key Improvement Areas</h3>\n          <ul className=\"space-y-1\">\n            {analysis.key_improvement_areas.map((area: string, idx: number) => (\n              <li key={idx} className=\"flex items-start\">\n                <span className=\"text-red-500 mr-2\">â€¢</span>\n                <span className=\"text-red-800\">{area}</span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Summary Display (Markdown)\nconst SummaryDisplay: React.FC<{ data: string }> = ({ data }) => {\n  return (\n    <div className=\"prose prose-sm max-w-none\">\n      <ReactMarkdown>{data}</ReactMarkdown>\n    </div>\n  );\n};\n\nexport const ReviewAnalysisDisplay: React.FC<ReviewAnalysisDisplayProps> = ({\n  data,\n  type,\n}) => {\n  // Try to parse if data is a string\n  let parsedData = data;\n  if (typeof data === 'string') {\n    try {\n      parsedData = JSON.parse(data);\n    } catch {\n      // Keep as string for summary/markdown\n    }\n  }\n\n  switch (type) {\n    case 'categorized':\n      return <CategorizedReviewsDisplay data={parsedData} />;\n    case 'positive':\n      return <PositiveAnalysisDisplay data={parsedData} />;\n    case 'negative':\n      return <NegativeAnalysisDisplay data={parsedData} />;\n    case 'summary':\n      return <SummaryDisplay data={typeof data === 'string' ? data : JSON.stringify(data, null, 2)} />;\n    default:\n      return <pre className=\"text-sm overflow-auto\">{JSON.stringify(parsedData, null, 2)}</pre>;\n  }\n};\n\nexport default ReviewAnalysisDisplay;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}