{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import api from'../../services/api';import{Button,Card,CardBody}from'../common';import{useLanguage}from'../../context/LanguageContext';import{translateText}from'../../services/translationService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Dashboard(){const navigate=useNavigate();const{t}=useLanguage();const[recipes,setRecipes]=useState([]);const[recentExecutions,setRecentExecutions]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{loadData();},[]);const loadData=async()=>{setIsLoading(true);setError(null);try{const[recipesData,executionsData]=await Promise.all([api.getRecipes(),api.getExecutions()]);setRecipes(recipesData);setRecentExecutions(executionsData.slice(0,5));}catch(err){setError(err.message);}finally{setIsLoading(false);}};const handleCloneRecipe=async recipeId=>{try{const cloned=await api.cloneRecipe(recipeId);navigate(\"/recipes/\".concat(cloned.id));}catch(err){setError(err.message);}};const handleDeleteRecipe=async recipeId=>{if(!window.confirm('Are you sure you want to delete this recipe?'))return;try{await api.deleteRecipe(recipeId);setRecipes(recipes.filter(r=>r.id!==recipeId));}catch(err){setError(err.message);}};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"})});}const templateRecipes=recipes.filter(r=>r.is_template);const userRecipes=recipes.filter(r=>!r.is_template);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-secondary-900\",children:t('dashboardTitle')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600 mt-1\",children:t('dashboardSubtitle')})]}),/*#__PURE__*/_jsx(Card,{hoverable:true,onClick:()=>navigate('/workflows/ai-builder'),className:\"bg-gradient-to-r from-primary-50 to-blue-50 border-primary-200\",children:/*#__PURE__*/_jsxs(CardBody,{className:\"flex items-center gap-4 py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl\",children:'\\uD83E\\uDD16'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-primary-900\",children:t('buildWithAI')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-primary-700\",children:t('buildWithAIDescription')})]}),/*#__PURE__*/_jsx(Button,{size:\"sm\",onClick:e=>{e.stopPropagation();navigate('/workflows/ai-builder');},children:t('getStarted')})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 text-red-700 px-4 py-3 rounded-lg\",children:error}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-secondary-900\",children:t('myTemplates')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary-500\",children:t('templatesDescription')})]}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"sm\",onClick:()=>navigate('/templates/new'),children:t('createNewTemplate')})]}),templateRecipes.length===0?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600 mb-4\",children:t('noTemplatesYet')}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>navigate('/templates/new'),children:t('createNewTemplate')})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:templateRecipes.map(template=>/*#__PURE__*/_jsx(TemplateCard,{template:template,onEdit:()=>navigate(\"/templates/\".concat(template.id)),onDelete:()=>handleDeleteRecipe(template.id),t:t},template.id))})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-secondary-900\",children:t('myRecipes')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary-500\",children:t('recipesDescription')})]}),/*#__PURE__*/_jsx(Button,{size:\"sm\",onClick:()=>navigate('/recipes/new'),children:t('createNewRecipe')})]}),userRecipes.length===0?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600 mb-4\",children:t('noRecipesYet')}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/recipes/new'),children:t('createFirstRecipe')})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:userRecipes.map(recipe=>/*#__PURE__*/_jsx(RecipeCard,{recipe:recipe,onRun:()=>navigate(\"/recipes/\".concat(recipe.id,\"/run\")),onEdit:()=>navigate(\"/recipes/\".concat(recipe.id)),onClone:()=>handleCloneRecipe(recipe.id),onDelete:()=>handleDeleteRecipe(recipe.id),t:t},recipe.id))})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-secondary-900\",children:t('recentExecutions')}),recentExecutions.length>0&&/*#__PURE__*/_jsx(Button,{variant:\"ghost\",onClick:()=>navigate('/executions'),children:t('viewAll')})]}),recentExecutions.length===0?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary-600\",children:t('noExecutionsYet')})})}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:recentExecutions.map(execution=>/*#__PURE__*/_jsx(ExecutionRow,{execution:execution,onClick:()=>navigate(\"/executions/\".concat(execution.id)),t:t},execution.id))})]})]});}function RecipeCard(_ref){let{recipe,onRun,onEdit,onClone,onDelete,t}=_ref;const{language}=useLanguage();const[translatedName,setTranslatedName]=useState(recipe.name);const[translatedDesc,setTranslatedDesc]=useState(recipe.description||'');useEffect(()=>{if(language==='en'){setTranslatedName(recipe.name);setTranslatedDesc(recipe.description||'');}else{translateText(recipe.name,'en',language).then(setTranslatedName);if(recipe.description){translateText(recipe.description,'en',language).then(setTranslatedDesc);}}},[recipe.name,recipe.description,language]);return/*#__PURE__*/_jsxs(Card,{hoverable:true,className:\"flex flex-col\",children:[/*#__PURE__*/_jsxs(CardBody,{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-secondary-900\",children:translatedName}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-secondary-500\",children:[recipe.step_count||0,\" \",t('templates')]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary-600 mt-2 line-clamp-2\",children:translatedDesc||t('noDescription')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-3 border-t border-secondary-100 flex items-center justify-between\",children:[onRun&&/*#__PURE__*/_jsx(Button,{size:\"sm\",onClick:onRun,children:t('run')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[onEdit&&/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:onEdit,children:t('edit')}),onClone&&/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:onClone,children:t('clone')}),onDelete&&/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:onDelete,children:t('delete')})]})]})]});}function TemplateCard(_ref2){let{template,onEdit,onDelete,t}=_ref2;const{language}=useLanguage();const[translatedName,setTranslatedName]=useState(template.name);const[translatedDesc,setTranslatedDesc]=useState(template.description||'');const[templateType,setTemplateType]=useState('AI');useEffect(()=>{if(language==='en'){setTranslatedName(template.name);setTranslatedDesc(template.description||'');}else{translateText(template.name,'en',language).then(setTranslatedName);if(template.description){translateText(template.description,'en',language).then(setTranslatedDesc);}}},[template.name,template.description,language]);// Determine template type: \"API\" if any step is scraping, otherwise \"AI\"\nuseEffect(()=>{if(template.steps&&template.steps.length>0){// Steps are available, check step types\nconst hasScrapingStep=template.steps.some(step=>step.step_type==='scraping');setTemplateType(hasScrapingStep?'API':'AI');}else{// Steps not loaded, fetch full recipe to determine type\napi.getRecipe(template.id).then(fullRecipe=>{if(fullRecipe.steps&&fullRecipe.steps.length>0){const hasScrapingStep=fullRecipe.steps.some(step=>step.step_type==='scraping');setTemplateType(hasScrapingStep?'API':'AI');}}).catch(()=>{// If fetch fails, default to 'AI'\nsetTemplateType('AI');});}},[template.id,template.steps]);return/*#__PURE__*/_jsxs(Card,{hoverable:true,className:\"flex flex-col\",onClick:onEdit,children:[/*#__PURE__*/_jsxs(CardBody,{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-secondary-900\",children:translatedName}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-block px-2 py-0.5 text-xs font-medium bg-primary-100 text-primary-700 rounded\",children:templateType})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary-600 mt-2 line-clamp-2\",children:translatedDesc||t('noDescription')})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-3 border-t border-secondary-100 flex items-center justify-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:e=>{e.stopPropagation();onEdit();},children:t('edit')}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:e=>{e.stopPropagation();onDelete();},children:t('delete')})]})})]});}function ExecutionRow(_ref3){let{execution,onClick,t}=_ref3;const{language}=useLanguage();const[translatedName,setTranslatedName]=useState(execution.recipe_name||\"Recipe #\".concat(execution.recipe_id));useEffect(()=>{const recipeName=execution.recipe_name||\"Recipe #\".concat(execution.recipe_id);if(language==='en'){setTranslatedName(recipeName);}else{translateText(recipeName,'en',language).then(setTranslatedName);}},[execution.recipe_name,execution.recipe_id,language]);const statusColors={pending:'bg-secondary-100 text-secondary-700',running:'bg-blue-100 text-blue-700',paused:'bg-yellow-100 text-yellow-700',completed:'bg-green-100 text-green-700',failed:'bg-red-100 text-red-700'};const statusLabels={pending:t('pending'),running:t('running'),paused:t('paused'),completed:t('completed'),failed:t('failed')};return/*#__PURE__*/_jsx(Card,{hoverable:true,onClick:onClick,children:/*#__PURE__*/_jsxs(CardBody,{className:\"flex items-center justify-between py-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium rounded \".concat(statusColors[execution.status]),children:statusLabels[execution.status]||execution.status}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-secondary-900\",children:translatedName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-secondary-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[t('currentStep'),\" \",execution.current_step,\"/\",execution.total_steps||'?']}),/*#__PURE__*/_jsx(\"span\",{children:new Date(execution.created_at).toLocaleDateString()})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","api","Button","Card","CardBody","useLanguage","translateText","jsx","_jsx","jsxs","_jsxs","Dashboard","navigate","t","recipes","setRecipes","recentExecutions","setRecentExecutions","isLoading","setIsLoading","error","setError","loadData","recipesData","executionsData","Promise","all","getRecipes","getExecutions","slice","err","message","handleCloneRecipe","recipeId","cloned","cloneRecipe","concat","id","handleDeleteRecipe","window","confirm","deleteRecipe","filter","r","className","children","templateRecipes","is_template","userRecipes","hoverable","onClick","size","e","stopPropagation","variant","length","map","template","TemplateCard","onEdit","onDelete","recipe","RecipeCard","onRun","onClone","execution","ExecutionRow","_ref","language","translatedName","setTranslatedName","name","translatedDesc","setTranslatedDesc","description","then","step_count","_ref2","templateType","setTemplateType","steps","hasScrapingStep","some","step","step_type","getRecipe","fullRecipe","catch","_ref3","recipe_name","recipe_id","recipeName","statusColors","pending","running","paused","completed","failed","statusLabels","status","current_step","total_steps","Date","created_at","toLocaleDateString"],"sources":["/Users/eveyhuang/Documents/novohaven-app/client/src/components/Dashboard/Dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Recipe, WorkflowExecution } from '../../types';\nimport api from '../../services/api';\nimport { Button, Card, CardBody } from '../common';\nimport { useLanguage } from '../../context/LanguageContext';\nimport { translateText } from '../../services/translationService';\n\nexport function Dashboard() {\n  const navigate = useNavigate();\n  const { t } = useLanguage();\n  const [recipes, setRecipes] = useState<Recipe[]>([]);\n  const [recentExecutions, setRecentExecutions] = useState<WorkflowExecution[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const [recipesData, executionsData] = await Promise.all([\n        api.getRecipes(),\n        api.getExecutions(),\n      ]);\n      setRecipes(recipesData);\n      setRecentExecutions(executionsData.slice(0, 5));\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCloneRecipe = async (recipeId: number) => {\n    try {\n      const cloned = await api.cloneRecipe(recipeId);\n      navigate(`/recipes/${cloned.id}`);\n    } catch (err: any) {\n      setError(err.message);\n    }\n  };\n\n  const handleDeleteRecipe = async (recipeId: number) => {\n    if (!window.confirm('Are you sure you want to delete this recipe?')) return;\n    try {\n      await api.deleteRecipe(recipeId);\n      setRecipes(recipes.filter(r => r.id !== recipeId));\n    } catch (err: any) {\n      setError(err.message);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  const templateRecipes = recipes.filter(r => r.is_template);\n  const userRecipes = recipes.filter(r => !r.is_template);\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-secondary-900\">{t('dashboardTitle')}</h1>\n        <p className=\"text-secondary-600 mt-1\">\n          {t('dashboardSubtitle')}\n        </p>\n      </div>\n\n      {/* Build with AI card */}\n      <Card hoverable onClick={() => navigate('/workflows/ai-builder')} className=\"bg-gradient-to-r from-primary-50 to-blue-50 border-primary-200\">\n        <CardBody className=\"flex items-center gap-4 py-5\">\n          <div className=\"text-3xl\">{'\\uD83E\\uDD16'}</div>\n          <div className=\"flex-1\">\n            <h2 className=\"text-lg font-semibold text-primary-900\">{t('buildWithAI')}</h2>\n            <p className=\"text-sm text-primary-700\">{t('buildWithAIDescription')}</p>\n          </div>\n          <Button size=\"sm\" onClick={(e) => { e.stopPropagation(); navigate('/workflows/ai-builder'); }}>\n            {t('getStarted')}\n          </Button>\n        </CardBody>\n      </Card>\n\n      {error && (\n        <div className=\"bg-red-50 text-red-700 px-4 py-3 rounded-lg\">\n          {error}\n        </div>\n      )}\n\n      {/* Templates */}\n      <section>\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <h2 className=\"text-lg font-semibold text-secondary-900\">\n              {t('myTemplates')}\n            </h2>\n            <p className=\"text-sm text-secondary-500\">{t('templatesDescription')}</p>\n          </div>\n          <Button variant=\"secondary\" size=\"sm\" onClick={() => navigate('/templates/new')}>\n            {t('createNewTemplate')}\n          </Button>\n        </div>\n        {templateRecipes.length === 0 ? (\n          <Card>\n            <CardBody className=\"text-center py-8\">\n              <p className=\"text-secondary-600 mb-4\">\n                {t('noTemplatesYet')}\n              </p>\n              <Button variant=\"secondary\" onClick={() => navigate('/templates/new')}>\n                {t('createNewTemplate')}\n              </Button>\n            </CardBody>\n          </Card>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {templateRecipes.map((template) => (\n              <TemplateCard\n                key={template.id}\n                template={template}\n                onEdit={() => navigate(`/templates/${template.id}`)}\n                onDelete={() => handleDeleteRecipe(template.id)}\n                t={t}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n\n      {/* Recipes */}\n      <section>\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <h2 className=\"text-lg font-semibold text-secondary-900\">\n              {t('myRecipes')}\n            </h2>\n            <p className=\"text-sm text-secondary-500\">{t('recipesDescription')}</p>\n          </div>\n          <Button size=\"sm\" onClick={() => navigate('/recipes/new')}>\n            {t('createNewRecipe')}\n          </Button>\n        </div>\n        {userRecipes.length === 0 ? (\n          <Card>\n            <CardBody className=\"text-center py-12\">\n              <p className=\"text-secondary-600 mb-4\">\n                {t('noRecipesYet')}\n              </p>\n              <Button onClick={() => navigate('/recipes/new')}>\n                {t('createFirstRecipe')}\n              </Button>\n            </CardBody>\n          </Card>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {userRecipes.map((recipe) => (\n              <RecipeCard\n                key={recipe.id}\n                recipe={recipe}\n                onRun={() => navigate(`/recipes/${recipe.id}/run`)}\n                onEdit={() => navigate(`/recipes/${recipe.id}`)}\n                onClone={() => handleCloneRecipe(recipe.id)}\n                onDelete={() => handleDeleteRecipe(recipe.id)}\n                t={t}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n\n      {/* Recent Executions */}\n      <section>\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-lg font-semibold text-secondary-900\">\n            {t('recentExecutions')}\n          </h2>\n          {recentExecutions.length > 0 && (\n            <Button variant=\"ghost\" onClick={() => navigate('/executions')}>\n              {t('viewAll')}\n            </Button>\n          )}\n        </div>\n        {recentExecutions.length === 0 ? (\n          <Card>\n            <CardBody className=\"text-center py-8\">\n              <p className=\"text-secondary-600\">\n                {t('noExecutionsYet')}\n              </p>\n            </CardBody>\n          </Card>\n        ) : (\n          <div className=\"space-y-2\">\n            {recentExecutions.map((execution) => (\n              <ExecutionRow\n                key={execution.id}\n                execution={execution}\n                onClick={() => navigate(`/executions/${execution.id}`)}\n                t={t}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n    </div>\n  );\n}\n\ninterface RecipeCardProps {\n  recipe: Recipe;\n  onRun?: () => void;\n  onEdit?: () => void;\n  onClone?: () => void;\n  onDelete?: () => void;\n  t: (key: any) => string;\n}\n\nfunction RecipeCard({ recipe, onRun, onEdit, onClone, onDelete, t }: RecipeCardProps) {\n  const { language } = useLanguage();\n  const [translatedName, setTranslatedName] = useState(recipe.name);\n  const [translatedDesc, setTranslatedDesc] = useState(recipe.description || '');\n\n  useEffect(() => {\n    if (language === 'en') {\n      setTranslatedName(recipe.name);\n      setTranslatedDesc(recipe.description || '');\n    } else {\n      translateText(recipe.name, 'en', language).then(setTranslatedName);\n      if (recipe.description) {\n        translateText(recipe.description, 'en', language).then(setTranslatedDesc);\n      }\n    }\n  }, [recipe.name, recipe.description, language]);\n\n  return (\n    <Card hoverable className=\"flex flex-col\">\n      <CardBody className=\"flex-1\">\n        <div className=\"flex items-start justify-between\">\n          <h3 className=\"font-semibold text-secondary-900\">{translatedName}</h3>\n          <span className=\"text-sm text-secondary-500\">\n            {recipe.step_count || 0} {t('templates')}\n          </span>\n        </div>\n        <p className=\"text-sm text-secondary-600 mt-2 line-clamp-2\">\n          {translatedDesc || t('noDescription')}\n        </p>\n      </CardBody>\n      <div className=\"px-6 py-3 border-t border-secondary-100 flex items-center justify-between\">\n        {onRun && (\n          <Button size=\"sm\" onClick={onRun}>\n            {t('run')}\n          </Button>\n        )}\n        <div className=\"flex items-center space-x-2\">\n          {onEdit && (\n            <Button size=\"sm\" variant=\"ghost\" onClick={onEdit}>\n              {t('edit')}\n            </Button>\n          )}\n          {onClone && (\n            <Button size=\"sm\" variant=\"ghost\" onClick={onClone}>\n              {t('clone')}\n            </Button>\n          )}\n          {onDelete && (\n            <Button size=\"sm\" variant=\"ghost\" onClick={onDelete}>\n              {t('delete')}\n            </Button>\n          )}\n        </div>\n      </div>\n    </Card>\n  );\n}\n\ninterface TemplateCardProps {\n  template: Recipe;\n  onEdit: () => void;\n  onDelete: () => void;\n  t: (key: any) => string;\n}\n\nfunction TemplateCard({ template, onEdit, onDelete, t }: TemplateCardProps) {\n  const { language } = useLanguage();\n  const [translatedName, setTranslatedName] = useState(template.name);\n  const [translatedDesc, setTranslatedDesc] = useState(template.description || '');\n  const [templateType, setTemplateType] = useState<'AI' | 'API'>('AI');\n\n  useEffect(() => {\n    if (language === 'en') {\n      setTranslatedName(template.name);\n      setTranslatedDesc(template.description || '');\n    } else {\n      translateText(template.name, 'en', language).then(setTranslatedName);\n      if (template.description) {\n        translateText(template.description, 'en', language).then(setTranslatedDesc);\n      }\n    }\n  }, [template.name, template.description, language]);\n\n  // Determine template type: \"API\" if any step is scraping, otherwise \"AI\"\n  useEffect(() => {\n    if (template.steps && template.steps.length > 0) {\n      // Steps are available, check step types\n      const hasScrapingStep = template.steps.some(step => step.step_type === 'scraping');\n      setTemplateType(hasScrapingStep ? 'API' : 'AI');\n    } else {\n      // Steps not loaded, fetch full recipe to determine type\n      api.getRecipe(template.id).then(fullRecipe => {\n        if (fullRecipe.steps && fullRecipe.steps.length > 0) {\n          const hasScrapingStep = fullRecipe.steps.some(step => step.step_type === 'scraping');\n          setTemplateType(hasScrapingStep ? 'API' : 'AI');\n        }\n      }).catch(() => {\n        // If fetch fails, default to 'AI'\n        setTemplateType('AI');\n      });\n    }\n  }, [template.id, template.steps]);\n\n  return (\n    <Card hoverable className=\"flex flex-col\" onClick={onEdit}>\n      <CardBody className=\"flex-1\">\n        <div className=\"flex items-start justify-between\">\n          <h3 className=\"font-semibold text-secondary-900\">{translatedName}</h3>\n          <span className=\"inline-block px-2 py-0.5 text-xs font-medium bg-primary-100 text-primary-700 rounded\">\n            {templateType}\n          </span>\n        </div>\n        <p className=\"text-sm text-secondary-600 mt-2 line-clamp-2\">\n          {translatedDesc || t('noDescription')}\n        </p>\n      </CardBody>\n      <div className=\"px-6 py-3 border-t border-secondary-100 flex items-center justify-end\">\n        <div className=\"flex items-center space-x-2\">\n          <Button size=\"sm\" variant=\"ghost\" onClick={(e) => { e.stopPropagation(); onEdit(); }}>\n            {t('edit')}\n          </Button>\n          <Button size=\"sm\" variant=\"ghost\" onClick={(e) => { e.stopPropagation(); onDelete(); }}>\n            {t('delete')}\n          </Button>\n        </div>\n      </div>\n    </Card>\n  );\n}\n\ninterface ExecutionRowProps {\n  execution: WorkflowExecution;\n  onClick: () => void;\n  t: (key: any) => string;\n}\n\nfunction ExecutionRow({ execution, onClick, t }: ExecutionRowProps) {\n  const { language } = useLanguage();\n  const [translatedName, setTranslatedName] = useState(execution.recipe_name || `Recipe #${execution.recipe_id}`);\n\n  useEffect(() => {\n    const recipeName = execution.recipe_name || `Recipe #${execution.recipe_id}`;\n    if (language === 'en') {\n      setTranslatedName(recipeName);\n    } else {\n      translateText(recipeName, 'en', language).then(setTranslatedName);\n    }\n  }, [execution.recipe_name, execution.recipe_id, language]);\n\n  const statusColors: Record<string, string> = {\n    pending: 'bg-secondary-100 text-secondary-700',\n    running: 'bg-blue-100 text-blue-700',\n    paused: 'bg-yellow-100 text-yellow-700',\n    completed: 'bg-green-100 text-green-700',\n    failed: 'bg-red-100 text-red-700',\n  };\n\n  const statusLabels: Record<string, string> = {\n    pending: t('pending'),\n    running: t('running'),\n    paused: t('paused'),\n    completed: t('completed'),\n    failed: t('failed'),\n  };\n\n  return (\n    <Card hoverable onClick={onClick}>\n      <CardBody className=\"flex items-center justify-between py-3\">\n        <div className=\"flex items-center space-x-4\">\n          <span className={`px-2 py-1 text-xs font-medium rounded ${statusColors[execution.status]}`}>\n            {statusLabels[execution.status] || execution.status}\n          </span>\n          <span className=\"font-medium text-secondary-900\">\n            {translatedName}\n          </span>\n        </div>\n        <div className=\"flex items-center space-x-4 text-sm text-secondary-500\">\n          <span>\n            {t('currentStep')} {execution.current_step}/{execution.total_steps || '?'}\n          </span>\n          <span>\n            {new Date(execution.created_at).toLocaleDateString()}\n          </span>\n        </div>\n      </CardBody>\n    </Card>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}