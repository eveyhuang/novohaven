{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import{useNotifications}from'../../context/NotificationContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Notifications(){const{notifications,removeNotification,backgroundExecutions}=useNotifications();const navigate=useNavigate();const handleViewExecution=(executionId,notificationId)=>{removeNotification(notificationId);navigate(\"/executions/\".concat(executionId));};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed top-4 right-4 z-50 space-y-3 max-w-sm\",children:[backgroundExecutions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-600 text-white px-4 py-3 rounded-lg shadow-lg flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium text-sm\",children:[backgroundExecutions.length,\" workflow\",backgroundExecutions.length>1?'s':'',\" running\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-100 truncate\",children:backgroundExecutions.map(e=>e.recipeName).join(', ')})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/executions'),className:\"text-xs text-blue-100 hover:text-white underline\",children:\"View\"})]}),notifications.map(notification=>/*#__PURE__*/_jsx(NotificationToast,{notification:notification,onClose:()=>removeNotification(notification.id),onView:notification.executionId?()=>handleViewExecution(notification.executionId,notification.id):undefined},notification.id))]});}function NotificationToast(_ref){let{notification,onClose,onView}=_ref;const bgColors={success:'bg-green-50 border-green-200',error:'bg-red-50 border-red-200',info:'bg-blue-50 border-blue-200',warning:'bg-yellow-50 border-yellow-200'};const iconColors={success:'text-green-600',error:'text-red-600',info:'text-blue-600',warning:'text-yellow-600'};const textColors={success:'text-green-800',error:'text-red-800',info:'text-blue-800',warning:'text-yellow-800'};return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(bgColors[notification.type],\" border rounded-lg shadow-lg p-4 animate-slide-in-right\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 \".concat(iconColors[notification.type]),children:/*#__PURE__*/_jsx(NotificationIcon,{type:notification.type})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium \".concat(textColors[notification.type]),children:notification.title}),notification.message&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1 \".concat(textColors[notification.type],\" opacity-80\"),children:notification.message}),onView&&/*#__PURE__*/_jsx(\"button\",{onClick:onView,className:\"text-sm mt-2 font-medium \".concat(textColors[notification.type],\" hover:underline\"),children:\"View Details \\u2192\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"flex-shrink-0 \".concat(textColors[notification.type],\" opacity-60 hover:opacity-100\"),children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})});}function NotificationIcon(_ref2){let{type}=_ref2;switch(type){case'success':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})});case'error':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})});case'info':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})});case'warning':return/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"})});}}export{Notifications};","map":{"version":3,"names":["React","useNavigate","useNotifications","jsx","_jsx","jsxs","_jsxs","Notifications","notifications","removeNotification","backgroundExecutions","navigate","handleViewExecution","executionId","notificationId","concat","className","children","length","map","e","recipeName","join","onClick","notification","NotificationToast","onClose","id","onView","undefined","_ref","bgColors","success","error","info","warning","iconColors","textColors","type","NotificationIcon","title","message","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_ref2"],"sources":["/Users/eveyhuang/Documents/novohaven-app/client/src/components/common/Notifications.tsx"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useNotifications, Notification } from '../../context/NotificationContext';\n\nexport function Notifications() {\n  const { notifications, removeNotification, backgroundExecutions } = useNotifications();\n  const navigate = useNavigate();\n\n  const handleViewExecution = (executionId: number, notificationId: string) => {\n    removeNotification(notificationId);\n    navigate(`/executions/${executionId}`);\n  };\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50 space-y-3 max-w-sm\">\n      {/* Background Execution Indicator */}\n      {backgroundExecutions.length > 0 && (\n        <div className=\"bg-blue-600 text-white px-4 py-3 rounded-lg shadow-lg flex items-center space-x-3\">\n          <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"></div>\n          <div className=\"flex-1\">\n            <p className=\"font-medium text-sm\">\n              {backgroundExecutions.length} workflow{backgroundExecutions.length > 1 ? 's' : ''} running\n            </p>\n            <p className=\"text-xs text-blue-100 truncate\">\n              {backgroundExecutions.map(e => e.recipeName).join(', ')}\n            </p>\n          </div>\n          <button\n            onClick={() => navigate('/executions')}\n            className=\"text-xs text-blue-100 hover:text-white underline\"\n          >\n            View\n          </button>\n        </div>\n      )}\n\n      {/* Notification Toasts */}\n      {notifications.map((notification) => (\n        <NotificationToast\n          key={notification.id}\n          notification={notification}\n          onClose={() => removeNotification(notification.id)}\n          onView={notification.executionId\n            ? () => handleViewExecution(notification.executionId!, notification.id)\n            : undefined\n          }\n        />\n      ))}\n    </div>\n  );\n}\n\ninterface NotificationToastProps {\n  notification: Notification;\n  onClose: () => void;\n  onView?: () => void;\n}\n\nfunction NotificationToast({ notification, onClose, onView }: NotificationToastProps) {\n  const bgColors = {\n    success: 'bg-green-50 border-green-200',\n    error: 'bg-red-50 border-red-200',\n    info: 'bg-blue-50 border-blue-200',\n    warning: 'bg-yellow-50 border-yellow-200',\n  };\n\n  const iconColors = {\n    success: 'text-green-600',\n    error: 'text-red-600',\n    info: 'text-blue-600',\n    warning: 'text-yellow-600',\n  };\n\n  const textColors = {\n    success: 'text-green-800',\n    error: 'text-red-800',\n    info: 'text-blue-800',\n    warning: 'text-yellow-800',\n  };\n\n  return (\n    <div\n      className={`${bgColors[notification.type]} border rounded-lg shadow-lg p-4 animate-slide-in-right`}\n    >\n      <div className=\"flex items-start space-x-3\">\n        <div className={`flex-shrink-0 ${iconColors[notification.type]}`}>\n          <NotificationIcon type={notification.type} />\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <p className={`font-medium ${textColors[notification.type]}`}>\n            {notification.title}\n          </p>\n          {notification.message && (\n            <p className={`text-sm mt-1 ${textColors[notification.type]} opacity-80`}>\n              {notification.message}\n            </p>\n          )}\n          {onView && (\n            <button\n              onClick={onView}\n              className={`text-sm mt-2 font-medium ${textColors[notification.type]} hover:underline`}\n            >\n              View Details â†’\n            </button>\n          )}\n        </div>\n        <button\n          onClick={onClose}\n          className={`flex-shrink-0 ${textColors[notification.type]} opacity-60 hover:opacity-100`}\n        >\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction NotificationIcon({ type }: { type: Notification['type'] }) {\n  switch (type) {\n    case 'success':\n      return (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      );\n    case 'error':\n      return (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      );\n    case 'info':\n      return (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      );\n    case 'warning':\n      return (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n      );\n  }\n}\n\nexport { Notifications };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}