{"ast":null,"code":"var _jsxFileName = \"/Users/eveyhuang/Documents/novohaven-app/client/src/components/WorkflowBuilder/AIWorkflowBuilder.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, Card } from '../common';\nimport { useLanguage } from '../../context/LanguageContext';\nimport api from '../../services/api';\n\n// Step type icons (matching the server executor registry)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst STEP_TYPE_ICONS = {\n  ai: '\\uD83E\\uDDE0',\n  scraping: '\\uD83D\\uDD0D',\n  script: '\\uD83D\\uDCDC',\n  http: '\\uD83C\\uDF10',\n  transform: '\\uD83D\\uDD04',\n  browser: '\\uD83D\\uDDA5\\uFE0F'\n};\nexport function AIWorkflowBuilder() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    t\n  } = useLanguage();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentWorkflow, setCurrentWorkflow] = useState(null);\n  const [editingStep, setEditingStep] = useState(null);\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const chatEndRef = useRef(null);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  useEffect(() => {\n    var _inputRef$current;\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n  }, []);\n  const handleSend = async () => {\n    const trimmed = input.trim();\n    if (!trimmed || isLoading) return;\n    const userMessage = {\n      role: 'user',\n      content: trimmed\n    };\n    const updatedMessages = [...messages, userMessage];\n    setMessages(updatedMessages);\n    setInput('');\n    setIsLoading(true);\n    setError(null);\n    try {\n      // Build the message history for the API (only role + content)\n      const apiMessages = updatedMessages.map(m => ({\n        role: m.role,\n        content: m.content\n      }));\n      const response = await api.assistantGenerate(apiMessages);\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.message,\n        workflow: response.workflow,\n        suggestions: response.suggestions\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n      if (response.workflow) {\n        setCurrentWorkflow(response.workflow);\n      }\n    } catch (err) {\n      setError(err.message || 'Failed to generate response');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n  const handleSuggestionClick = suggestion => {\n    var _inputRef$current2;\n    setInput(suggestion);\n    (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : _inputRef$current2.focus();\n  };\n  const handleSave = async asTemplate => {\n    if (!currentWorkflow) return;\n    setIsSaving(true);\n    setError(null);\n    try {\n      const result = await api.assistantSave(currentWorkflow, asTemplate);\n      navigate(`/recipes/${result.recipeId}`);\n    } catch (err) {\n      setError(err.message || 'Failed to save workflow');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n  const handleUpdateStep = (index, updates) => {\n    if (!currentWorkflow) return;\n    const newSteps = [...currentWorkflow.steps];\n    newSteps[index] = {\n      ...newSteps[index],\n      ...updates\n    };\n    setCurrentWorkflow({\n      ...currentWorkflow,\n      steps: newSteps\n    });\n  };\n  const handleRemoveStep = index => {\n    if (!currentWorkflow) return;\n    const newSteps = currentWorkflow.steps.filter((_, i) => i !== index);\n    setCurrentWorkflow({\n      ...currentWorkflow,\n      steps: newSteps\n    });\n  };\n  const handleMoveStep = (index, direction) => {\n    if (!currentWorkflow) return;\n    const newSteps = [...currentWorkflow.steps];\n    const targetIndex = direction === 'up' ? index - 1 : index + 1;\n    if (targetIndex < 0 || targetIndex >= newSteps.length) return;\n    [newSteps[index], newSteps[targetIndex]] = [newSteps[targetIndex], newSteps[index]];\n    setCurrentWorkflow({\n      ...currentWorkflow,\n      steps: newSteps\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-[calc(100vh-8rem)] flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-secondary-900\",\n          children: t('aiWorkflowBuilder')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-secondary-600 text-sm\",\n          children: t('aiWorkflowBuilderDescription')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"ghost\",\n        onClick: () => navigate('/'),\n        children: t('backToDashboard')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 text-red-700 px-4 py-3 rounded-lg mb-4 flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"text-red-500 hover:text-red-700\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex gap-4 min-h-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col min-w-0\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"flex-1 flex flex-col min-h-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n            children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-4xl mb-4\",\n                children: '\\uD83E\\uDD16'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-secondary-900 mb-2\",\n                children: t('aiBuilderWelcome')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-secondary-600 text-sm max-w-md mx-auto mb-6\",\n                children: t('aiBuilderWelcomeDescription')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2 justify-center\",\n                children: [t('aiBuilderExample1'), t('aiBuilderExample2'), t('aiBuilderExample3')].map((example, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSuggestionClick(example),\n                  className: \"px-3 py-2 text-sm bg-primary-50 text-primary-700 rounded-lg hover:bg-primary-100 transition-colors text-left\",\n                  children: example\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `max-w-[85%] rounded-lg px-4 py-3 ${msg.role === 'user' ? 'bg-primary-600 text-white' : 'bg-secondary-100 text-secondary-900'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"whitespace-pre-wrap text-sm\",\n                  children: msg.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this), msg.suggestions && msg.suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3 pt-3 border-t border-secondary-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-secondary-500 mb-2\",\n                    children: [t('suggestions'), \":\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-1\",\n                    children: msg.suggestions.map((s, j) => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleSuggestionClick(s),\n                      className: \"px-2 py-1 text-xs bg-white text-secondary-700 rounded border border-secondary-200 hover:bg-secondary-50\",\n                      children: s\n                    }, j, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-start\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-secondary-100 rounded-lg px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-secondary-600\",\n                    children: t('aiThinking')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: chatEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-secondary-200 p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: inputRef,\n                value: input,\n                onChange: e => setInput(e.target.value),\n                onKeyDown: handleKeyDown,\n                placeholder: t('aiBuilderPlaceholder'),\n                className: \"flex-1 resize-none rounded-lg border border-secondary-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",\n                rows: 2,\n                disabled: isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleSend,\n                disabled: !input.trim() || isLoading,\n                isLoading: isLoading,\n                className: \"self-end\",\n                children: t('send')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-96 flex flex-col min-h-0\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"flex-1 flex flex-col min-h-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-3 border-b border-secondary-200 flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-secondary-900\",\n              children: t('workflowPreview')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), currentWorkflow && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-secondary-500\",\n              children: [currentWorkflow.steps.length, \" \", t('steps')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto p-4\",\n            children: !currentWorkflow ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-3xl mb-3 opacity-40\",\n                children: '\\uD83D\\uDCCB'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-secondary-500\",\n                children: t('noWorkflowYet')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: currentWorkflow.name,\n                  onChange: e => setCurrentWorkflow({\n                    ...currentWorkflow,\n                    name: e.target.value\n                  }),\n                  className: \"w-full font-semibold text-secondary-900 bg-transparent border-b border-transparent hover:border-secondary-300 focus:border-primary-500 focus:outline-none px-1 py-0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: currentWorkflow.description,\n                  onChange: e => setCurrentWorkflow({\n                    ...currentWorkflow,\n                    description: e.target.value\n                  }),\n                  className: \"w-full text-sm text-secondary-600 bg-transparent border-b border-transparent hover:border-secondary-300 focus:border-primary-500 focus:outline-none px-1 py-0.5 resize-none mt-1\",\n                  rows: 2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this), currentWorkflow.requiredInputs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 rounded-lg p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs font-medium text-blue-700 mb-1\",\n                  children: [t('requiredInputs'), \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-1\",\n                  children: currentWorkflow.requiredInputs.map((inp, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-blue-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-mono\",\n                      children: `{{${inp.name}}}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-blue-400 ml-1\",\n                      children: [\"(\", inp.type, \")\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 29\n                    }, this), inp.description && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-blue-400 ml-1\",\n                      children: [\"- \", inp.description]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 31\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: currentWorkflow.steps.map((step, index) => /*#__PURE__*/_jsxDEV(StepCard, {\n                  step: step,\n                  index: index,\n                  isEditing: editingStep === index,\n                  onToggleEdit: () => setEditingStep(editingStep === index ? null : index),\n                  onUpdate: updates => handleUpdateStep(index, updates),\n                  onRemove: () => handleRemoveStep(index),\n                  onMoveUp: () => handleMoveStep(index, 'up'),\n                  onMoveDown: () => handleMoveStep(index, 'down'),\n                  isFirst: index === 0,\n                  isLast: index === currentWorkflow.steps.length - 1,\n                  t: t\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), currentWorkflow && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-secondary-200 p-4 space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"w-full\",\n              onClick: () => handleSave(false),\n              isLoading: isSaving,\n              disabled: isSaving,\n              children: t('saveAsRecipe')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              className: \"w-full\",\n              onClick: () => handleSave(true),\n              isLoading: isSaving,\n              disabled: isSaving,\n              children: t('saveAsTemplate')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n\n// Step card component\n_s(AIWorkflowBuilder, \"GO7V+m9iBQfq0ta9Bcjj2U0NRbY=\", false, function () {\n  return [useNavigate, useLanguage];\n});\n_c = AIWorkflowBuilder;\nfunction StepCard({\n  step,\n  index,\n  isEditing,\n  onToggleEdit,\n  onUpdate,\n  onRemove,\n  onMoveUp,\n  onMoveDown,\n  isFirst,\n  isLast,\n  t\n}) {\n  const icon = STEP_TYPE_ICONS[step.step_type] || '\\u2699\\uFE0F';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"border border-secondary-200 rounded-lg overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 px-3 py-2 bg-secondary-50 cursor-pointer hover:bg-secondary-100\",\n      onClick: onToggleEdit,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm\",\n        children: icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs font-medium text-secondary-500\",\n        children: [index + 1, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm font-medium text-secondary-900 flex-1 truncate\",\n        children: step.step_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-secondary-400\",\n        children: step.step_type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-1\",\n        children: [!isFirst && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onMoveUp();\n          },\n          className: \"text-secondary-400 hover:text-secondary-600 text-xs\",\n          title: \"Move up\",\n          children: '\\u25B2'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), !isLast && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onMoveDown();\n          },\n          className: \"text-secondary-400 hover:text-secondary-600 text-xs\",\n          title: \"Move down\",\n          children: '\\u25BC'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            onRemove();\n          },\n          className: \"text-red-400 hover:text-red-600 text-xs ml-1\",\n          title: \"Remove\",\n          children: '\\u2715'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), isEditing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 space-y-3 text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium text-secondary-500 mb-1\",\n          children: t('stepName')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: step.step_name,\n          onChange: e => onUpdate({\n            step_name: e.target.value\n          }),\n          className: \"w-full border border-secondary-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-primary-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this), step.step_type === 'ai' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium text-secondary-500 mb-1\",\n            children: t('aiModel')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: step.ai_model,\n            onChange: e => onUpdate({\n              ai_model: e.target.value\n            }),\n            className: \"w-full border border-secondary-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-primary-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-xs font-medium text-secondary-500 mb-1\",\n            children: t('promptTemplate')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: step.prompt_template,\n            onChange: e => onUpdate({\n              prompt_template: e.target.value\n            }),\n            className: \"w-full border border-secondary-300 rounded px-2 py-1 text-sm font-mono focus:outline-none focus:ring-1 focus:ring-primary-500\",\n            rows: 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), step.step_type !== 'ai' && step.executor_config && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium text-secondary-500 mb-1\",\n          children: t('executorConfig')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: JSON.stringify(step.executor_config, null, 2),\n          onChange: e => {\n            try {\n              const parsed = JSON.parse(e.target.value);\n              onUpdate({\n                executor_config: parsed\n              });\n            } catch {\n              // Don't update if invalid JSON\n            }\n          },\n          className: \"w-full border border-secondary-300 rounded px-2 py-1 text-sm font-mono focus:outline-none focus:ring-1 focus:ring-primary-500\",\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs font-medium text-secondary-500 mb-1\",\n          children: t('outputFormat')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: step.output_format,\n          onChange: e => onUpdate({\n            output_format: e.target.value\n          }),\n          className: \"w-full border border-secondary-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-primary-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"text\",\n            children: \"Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"json\",\n            children: \"JSON\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"markdown\",\n            children: \"Markdown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"image\",\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 412,\n    columnNumber: 5\n  }, this);\n}\n_c2 = StepCard;\nvar _c, _c2;\n$RefreshReg$(_c, \"AIWorkflowBuilder\");\n$RefreshReg$(_c2, \"StepCard\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","Button","Card","useLanguage","api","jsxDEV","_jsxDEV","Fragment","_Fragment","STEP_TYPE_ICONS","ai","scraping","script","http","transform","browser","AIWorkflowBuilder","_s","navigate","t","messages","setMessages","input","setInput","isLoading","setIsLoading","currentWorkflow","setCurrentWorkflow","editingStep","setEditingStep","isSaving","setIsSaving","error","setError","chatEndRef","inputRef","_chatEndRef$current","current","scrollIntoView","behavior","_inputRef$current","focus","handleSend","trimmed","trim","userMessage","role","content","updatedMessages","apiMessages","map","m","response","assistantGenerate","assistantMessage","message","workflow","suggestions","prev","err","handleKeyDown","e","key","shiftKey","preventDefault","handleSuggestionClick","suggestion","_inputRef$current2","handleSave","asTemplate","result","assistantSave","recipeId","handleUpdateStep","index","updates","newSteps","steps","handleRemoveStep","filter","_","i","handleMoveStep","direction","targetIndex","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","onClick","example","msg","s","j","ref","value","onChange","target","onKeyDown","placeholder","rows","disabled","type","name","description","requiredInputs","inp","step","StepCard","isEditing","onToggleEdit","onUpdate","onRemove","onMoveUp","onMoveDown","isFirst","isLast","_c","icon","step_type","step_name","stopPropagation","title","ai_model","prompt_template","executor_config","JSON","stringify","parsed","parse","output_format","_c2","$RefreshReg$"],"sources":["/Users/eveyhuang/Documents/novohaven-app/client/src/components/WorkflowBuilder/AIWorkflowBuilder.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, Card, CardBody } from '../common';\nimport { useLanguage } from '../../context/LanguageContext';\nimport api, {\n  AssistantMessage,\n  AssistantResponse,\n  GeneratedWorkflow,\n  GeneratedStep,\n} from '../../services/api';\n\n// Step type icons (matching the server executor registry)\nconst STEP_TYPE_ICONS: Record<string, string> = {\n  ai: '\\uD83E\\uDDE0',\n  scraping: '\\uD83D\\uDD0D',\n  script: '\\uD83D\\uDCDC',\n  http: '\\uD83C\\uDF10',\n  transform: '\\uD83D\\uDD04',\n  browser: '\\uD83D\\uDDA5\\uFE0F',\n};\n\ninterface ChatMessage {\n  role: 'user' | 'assistant';\n  content: string;\n  workflow?: GeneratedWorkflow;\n  suggestions?: string[];\n}\n\nexport function AIWorkflowBuilder() {\n  const navigate = useNavigate();\n  const { t } = useLanguage();\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentWorkflow, setCurrentWorkflow] = useState<GeneratedWorkflow | null>(null);\n  const [editingStep, setEditingStep] = useState<number | null>(null);\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const chatEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLTextAreaElement>(null);\n\n  useEffect(() => {\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  const handleSend = async () => {\n    const trimmed = input.trim();\n    if (!trimmed || isLoading) return;\n\n    const userMessage: ChatMessage = { role: 'user', content: trimmed };\n    const updatedMessages = [...messages, userMessage];\n    setMessages(updatedMessages);\n    setInput('');\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      // Build the message history for the API (only role + content)\n      const apiMessages: AssistantMessage[] = updatedMessages.map(m => ({\n        role: m.role,\n        content: m.content,\n      }));\n\n      const response: AssistantResponse = await api.assistantGenerate(apiMessages);\n\n      const assistantMessage: ChatMessage = {\n        role: 'assistant',\n        content: response.message,\n        workflow: response.workflow,\n        suggestions: response.suggestions,\n      };\n\n      setMessages(prev => [...prev, assistantMessage]);\n\n      if (response.workflow) {\n        setCurrentWorkflow(response.workflow);\n      }\n    } catch (err: any) {\n      setError(err.message || 'Failed to generate response');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const handleSuggestionClick = (suggestion: string) => {\n    setInput(suggestion);\n    inputRef.current?.focus();\n  };\n\n  const handleSave = async (asTemplate: boolean) => {\n    if (!currentWorkflow) return;\n\n    setIsSaving(true);\n    setError(null);\n\n    try {\n      const result = await api.assistantSave(currentWorkflow, asTemplate);\n      navigate(`/recipes/${result.recipeId}`);\n    } catch (err: any) {\n      setError(err.message || 'Failed to save workflow');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleUpdateStep = (index: number, updates: Partial<GeneratedStep>) => {\n    if (!currentWorkflow) return;\n    const newSteps = [...currentWorkflow.steps];\n    newSteps[index] = { ...newSteps[index], ...updates };\n    setCurrentWorkflow({ ...currentWorkflow, steps: newSteps });\n  };\n\n  const handleRemoveStep = (index: number) => {\n    if (!currentWorkflow) return;\n    const newSteps = currentWorkflow.steps.filter((_, i) => i !== index);\n    setCurrentWorkflow({ ...currentWorkflow, steps: newSteps });\n  };\n\n  const handleMoveStep = (index: number, direction: 'up' | 'down') => {\n    if (!currentWorkflow) return;\n    const newSteps = [...currentWorkflow.steps];\n    const targetIndex = direction === 'up' ? index - 1 : index + 1;\n    if (targetIndex < 0 || targetIndex >= newSteps.length) return;\n    [newSteps[index], newSteps[targetIndex]] = [newSteps[targetIndex], newSteps[index]];\n    setCurrentWorkflow({ ...currentWorkflow, steps: newSteps });\n  };\n\n  return (\n    <div className=\"h-[calc(100vh-8rem)] flex flex-col\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-secondary-900\">{t('aiWorkflowBuilder')}</h1>\n          <p className=\"text-secondary-600 text-sm\">{t('aiWorkflowBuilderDescription')}</p>\n        </div>\n        <Button variant=\"ghost\" onClick={() => navigate('/')}>\n          {t('backToDashboard')}\n        </Button>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 text-red-700 px-4 py-3 rounded-lg mb-4 flex items-center justify-between\">\n          <span>{error}</span>\n          <button onClick={() => setError(null)} className=\"text-red-500 hover:text-red-700\">\n            &times;\n          </button>\n        </div>\n      )}\n\n      {/* Main split layout */}\n      <div className=\"flex-1 flex gap-4 min-h-0\">\n        {/* Left: Chat Panel */}\n        <div className=\"flex-1 flex flex-col min-w-0\">\n          <Card className=\"flex-1 flex flex-col min-h-0\">\n            {/* Chat messages */}\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n              {messages.length === 0 && (\n                <div className=\"text-center py-12\">\n                  <div className=\"text-4xl mb-4\">{'\\uD83E\\uDD16'}</div>\n                  <h3 className=\"text-lg font-semibold text-secondary-900 mb-2\">\n                    {t('aiBuilderWelcome')}\n                  </h3>\n                  <p className=\"text-secondary-600 text-sm max-w-md mx-auto mb-6\">\n                    {t('aiBuilderWelcomeDescription')}\n                  </p>\n                  <div className=\"flex flex-wrap gap-2 justify-center\">\n                    {[\n                      t('aiBuilderExample1'),\n                      t('aiBuilderExample2'),\n                      t('aiBuilderExample3'),\n                    ].map((example, i) => (\n                      <button\n                        key={i}\n                        onClick={() => handleSuggestionClick(example)}\n                        className=\"px-3 py-2 text-sm bg-primary-50 text-primary-700 rounded-lg hover:bg-primary-100 transition-colors text-left\"\n                      >\n                        {example}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {messages.map((msg, i) => (\n                <div\n                  key={i}\n                  className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}\n                >\n                  <div\n                    className={`max-w-[85%] rounded-lg px-4 py-3 ${\n                      msg.role === 'user'\n                        ? 'bg-primary-600 text-white'\n                        : 'bg-secondary-100 text-secondary-900'\n                    }`}\n                  >\n                    <div className=\"whitespace-pre-wrap text-sm\">{msg.content}</div>\n\n                    {msg.suggestions && msg.suggestions.length > 0 && (\n                      <div className=\"mt-3 pt-3 border-t border-secondary-200\">\n                        <p className=\"text-xs text-secondary-500 mb-2\">{t('suggestions')}:</p>\n                        <div className=\"flex flex-wrap gap-1\">\n                          {msg.suggestions.map((s, j) => (\n                            <button\n                              key={j}\n                              onClick={() => handleSuggestionClick(s)}\n                              className=\"px-2 py-1 text-xs bg-white text-secondary-700 rounded border border-secondary-200 hover:bg-secondary-50\"\n                            >\n                              {s}\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n\n              {isLoading && (\n                <div className=\"flex justify-start\">\n                  <div className=\"bg-secondary-100 rounded-lg px-4 py-3\">\n                    <div className=\"flex items-center space-x-2\">\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600\"></div>\n                      <span className=\"text-sm text-secondary-600\">{t('aiThinking')}</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              <div ref={chatEndRef} />\n            </div>\n\n            {/* Chat input */}\n            <div className=\"border-t border-secondary-200 p-4\">\n              <div className=\"flex gap-2\">\n                <textarea\n                  ref={inputRef}\n                  value={input}\n                  onChange={e => setInput(e.target.value)}\n                  onKeyDown={handleKeyDown}\n                  placeholder={t('aiBuilderPlaceholder')}\n                  className=\"flex-1 resize-none rounded-lg border border-secondary-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                  rows={2}\n                  disabled={isLoading}\n                />\n                <Button\n                  onClick={handleSend}\n                  disabled={!input.trim() || isLoading}\n                  isLoading={isLoading}\n                  className=\"self-end\"\n                >\n                  {t('send')}\n                </Button>\n              </div>\n            </div>\n          </Card>\n        </div>\n\n        {/* Right: Workflow Preview */}\n        <div className=\"w-96 flex flex-col min-h-0\">\n          <Card className=\"flex-1 flex flex-col min-h-0\">\n            <div className=\"px-4 py-3 border-b border-secondary-200 flex items-center justify-between\">\n              <h3 className=\"font-semibold text-secondary-900\">{t('workflowPreview')}</h3>\n              {currentWorkflow && (\n                <span className=\"text-xs text-secondary-500\">\n                  {currentWorkflow.steps.length} {t('steps')}\n                </span>\n              )}\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto p-4\">\n              {!currentWorkflow ? (\n                <div className=\"text-center py-12\">\n                  <div className=\"text-3xl mb-3 opacity-40\">{'\\uD83D\\uDCCB'}</div>\n                  <p className=\"text-sm text-secondary-500\">{t('noWorkflowYet')}</p>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {/* Workflow name and description */}\n                  <div>\n                    <input\n                      type=\"text\"\n                      value={currentWorkflow.name}\n                      onChange={e =>\n                        setCurrentWorkflow({ ...currentWorkflow, name: e.target.value })\n                      }\n                      className=\"w-full font-semibold text-secondary-900 bg-transparent border-b border-transparent hover:border-secondary-300 focus:border-primary-500 focus:outline-none px-1 py-0.5\"\n                    />\n                    <textarea\n                      value={currentWorkflow.description}\n                      onChange={e =>\n                        setCurrentWorkflow({ ...currentWorkflow, description: e.target.value })\n                      }\n                      className=\"w-full text-sm text-secondary-600 bg-transparent border-b border-transparent hover:border-secondary-300 focus:border-primary-500 focus:outline-none px-1 py-0.5 resize-none mt-1\"\n                      rows={2}\n                    />\n                  </div>\n\n                  {/* Required inputs */}\n                  {currentWorkflow.requiredInputs.length > 0 && (\n                    <div className=\"bg-blue-50 rounded-lg p-3\">\n                      <p className=\"text-xs font-medium text-blue-700 mb-1\">{t('requiredInputs')}:</p>\n                      <div className=\"space-y-1\">\n                        {currentWorkflow.requiredInputs.map((inp, i) => (\n                          <div key={i} className=\"text-xs text-blue-600\">\n                            <span className=\"font-mono\">{`{{${inp.name}}}`}</span>\n                            <span className=\"text-blue-400 ml-1\">({inp.type})</span>\n                            {inp.description && (\n                              <span className=\"text-blue-400 ml-1\">- {inp.description}</span>\n                            )}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Steps */}\n                  <div className=\"space-y-2\">\n                    {currentWorkflow.steps.map((step, index) => (\n                      <StepCard\n                        key={index}\n                        step={step}\n                        index={index}\n                        isEditing={editingStep === index}\n                        onToggleEdit={() =>\n                          setEditingStep(editingStep === index ? null : index)\n                        }\n                        onUpdate={updates => handleUpdateStep(index, updates)}\n                        onRemove={() => handleRemoveStep(index)}\n                        onMoveUp={() => handleMoveStep(index, 'up')}\n                        onMoveDown={() => handleMoveStep(index, 'down')}\n                        isFirst={index === 0}\n                        isLast={index === currentWorkflow.steps.length - 1}\n                        t={t}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Save buttons */}\n            {currentWorkflow && (\n              <div className=\"border-t border-secondary-200 p-4 space-y-2\">\n                <Button\n                  className=\"w-full\"\n                  onClick={() => handleSave(false)}\n                  isLoading={isSaving}\n                  disabled={isSaving}\n                >\n                  {t('saveAsRecipe')}\n                </Button>\n                <Button\n                  variant=\"secondary\"\n                  className=\"w-full\"\n                  onClick={() => handleSave(true)}\n                  isLoading={isSaving}\n                  disabled={isSaving}\n                >\n                  {t('saveAsTemplate')}\n                </Button>\n              </div>\n            )}\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Step card component\ninterface StepCardProps {\n  step: GeneratedStep;\n  index: number;\n  isEditing: boolean;\n  onToggleEdit: () => void;\n  onUpdate: (updates: Partial<GeneratedStep>) => void;\n  onRemove: () => void;\n  onMoveUp: () => void;\n  onMoveDown: () => void;\n  isFirst: boolean;\n  isLast: boolean;\n  t: (key: any) => string;\n}\n\nfunction StepCard({\n  step,\n  index,\n  isEditing,\n  onToggleEdit,\n  onUpdate,\n  onRemove,\n  onMoveUp,\n  onMoveDown,\n  isFirst,\n  isLast,\n  t,\n}: StepCardProps) {\n  const icon = STEP_TYPE_ICONS[step.step_type] || '\\u2699\\uFE0F';\n\n  return (\n    <div className=\"border border-secondary-200 rounded-lg overflow-hidden\">\n      {/* Step header */}\n      <div\n        className=\"flex items-center gap-2 px-3 py-2 bg-secondary-50 cursor-pointer hover:bg-secondary-100\"\n        onClick={onToggleEdit}\n      >\n        <span className=\"text-sm\">{icon}</span>\n        <span className=\"text-xs font-medium text-secondary-500\">\n          {index + 1}.\n        </span>\n        <span className=\"text-sm font-medium text-secondary-900 flex-1 truncate\">\n          {step.step_name}\n        </span>\n        <span className=\"text-xs text-secondary-400\">{step.step_type}</span>\n        <div className=\"flex items-center gap-1\">\n          {!isFirst && (\n            <button\n              onClick={e => {\n                e.stopPropagation();\n                onMoveUp();\n              }}\n              className=\"text-secondary-400 hover:text-secondary-600 text-xs\"\n              title=\"Move up\"\n            >\n              {'\\u25B2'}\n            </button>\n          )}\n          {!isLast && (\n            <button\n              onClick={e => {\n                e.stopPropagation();\n                onMoveDown();\n              }}\n              className=\"text-secondary-400 hover:text-secondary-600 text-xs\"\n              title=\"Move down\"\n            >\n              {'\\u25BC'}\n            </button>\n          )}\n          <button\n            onClick={e => {\n              e.stopPropagation();\n              onRemove();\n            }}\n            className=\"text-red-400 hover:text-red-600 text-xs ml-1\"\n            title=\"Remove\"\n          >\n            {'\\u2715'}\n          </button>\n        </div>\n      </div>\n\n      {/* Step details (when editing) */}\n      {isEditing && (\n        <div className=\"p-3 space-y-3 text-sm\">\n          <div>\n            <label className=\"block text-xs font-medium text-secondary-500 mb-1\">\n              {t('stepName')}\n            </label>\n            <input\n              type=\"text\"\n              value={step.step_name}\n              onChange={e => onUpdate({ step_name: e.target.value })}\n              className=\"w-full border border-secondary-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-primary-500\"\n            />\n          </div>\n\n          {step.step_type === 'ai' && (\n            <>\n              <div>\n                <label className=\"block text-xs font-medium text-secondary-500 mb-1\">\n                  {t('aiModel')}\n                </label>\n                <input\n                  type=\"text\"\n                  value={step.ai_model}\n                  onChange={e => onUpdate({ ai_model: e.target.value })}\n                  className=\"w-full border border-secondary-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-primary-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-xs font-medium text-secondary-500 mb-1\">\n                  {t('promptTemplate')}\n                </label>\n                <textarea\n                  value={step.prompt_template}\n                  onChange={e => onUpdate({ prompt_template: e.target.value })}\n                  className=\"w-full border border-secondary-300 rounded px-2 py-1 text-sm font-mono focus:outline-none focus:ring-1 focus:ring-primary-500\"\n                  rows={4}\n                />\n              </div>\n            </>\n          )}\n\n          {step.step_type !== 'ai' && step.executor_config && (\n            <div>\n              <label className=\"block text-xs font-medium text-secondary-500 mb-1\">\n                {t('executorConfig')}\n              </label>\n              <textarea\n                value={JSON.stringify(step.executor_config, null, 2)}\n                onChange={e => {\n                  try {\n                    const parsed = JSON.parse(e.target.value);\n                    onUpdate({ executor_config: parsed });\n                  } catch {\n                    // Don't update if invalid JSON\n                  }\n                }}\n                className=\"w-full border border-secondary-300 rounded px-2 py-1 text-sm font-mono focus:outline-none focus:ring-1 focus:ring-primary-500\"\n                rows={4}\n              />\n            </div>\n          )}\n\n          <div>\n            <label className=\"block text-xs font-medium text-secondary-500 mb-1\">\n              {t('outputFormat')}\n            </label>\n            <select\n              value={step.output_format}\n              onChange={e =>\n                onUpdate({ output_format: e.target.value as GeneratedStep['output_format'] })\n              }\n              className=\"w-full border border-secondary-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-primary-500\"\n            >\n              <option value=\"text\">Text</option>\n              <option value=\"json\">JSON</option>\n              <option value=\"markdown\">Markdown</option>\n              <option value=\"image\">Image</option>\n            </select>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}