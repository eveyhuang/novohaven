{"ast":null,"code":"var _jsxFileName = \"/Users/eveyhuang/Documents/novohaven-app/client/src/components/ReviewAnalysis/ReviewExtractorInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Only Amazon is supported for now\nconst platformInfo = {\n  amazon: {\n    name: 'Amazon',\n    icon: 'üì¶',\n    color: 'bg-orange-100 text-orange-800 border-orange-200'\n  }\n};\nexport const ReviewExtractorInput = ({\n  onDataExtracted,\n  onError\n}) => {\n  _s();\n  const [inputMode, setInputMode] = useState('urls');\n  const [urls, setUrls] = useState('');\n  const [csvContent, setCsvContent] = useState('');\n  const [csvFilename, setCsvFilename] = useState('');\n  const [csvPlatform, setCsvPlatform] = useState('amazon');\n  const [isLoading, setIsLoading] = useState(false);\n  const [scrapingStatus, setScrapingStatus] = useState(null);\n  const [progress, setProgress] = useState(null);\n\n  // Check scraping status on mount\n  React.useEffect(() => {\n    api.getScrapingStatus().then(setScrapingStatus).catch(console.error);\n  }, []);\n\n  // Validate and detect platforms from URLs\n  const validateUrls = useCallback(urlText => {\n    const lines = urlText.split('\\n').filter(line => line.trim());\n    const results = [];\n    for (const line of lines) {\n      const url = line.trim();\n      let platform = null;\n\n      // Only Amazon is supported for now\n      if (url.includes('amazon.')) platform = 'amazon';\n      results.push({\n        url,\n        platform,\n        valid: platform !== null && (url.startsWith('http://') || url.startsWith('https://'))\n      });\n    }\n    return results;\n  }, []);\n  const urlValidation = React.useMemo(() => validateUrls(urls), [urls, validateUrls]);\n  const validUrls = urlValidation.filter(u => u.valid);\n  const invalidUrls = urlValidation.filter(u => !u.valid && u.url);\n\n  // Handle file upload\n  const handleFileUpload = event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (!file) return;\n    if (!file.name.endsWith('.csv')) {\n      onError('Please upload a CSV file');\n      return;\n    }\n    setCsvFilename(file.name);\n    const reader = new FileReader();\n    reader.onload = e => {\n      var _e$target;\n      setCsvContent((_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result);\n    };\n    reader.readAsText(file);\n  };\n\n  // Handle extraction\n  const handleExtract = async () => {\n    setIsLoading(true);\n    setProgress(null);\n    try {\n      let scrapedData = [];\n      let csvReviews = [];\n\n      // Scrape URLs if provided\n      if ((inputMode === 'urls' || inputMode === 'both') && validUrls.length > 0) {\n        var _scrapingResult$data, _scrapingResult$inval;\n        setProgress({\n          current: 0,\n          total: validUrls.length\n        });\n        const scrapingResult = await api.scrapeReviews(validUrls.map(u => u.url));\n        if (!scrapingResult.success && !((_scrapingResult$data = scrapingResult.data) !== null && _scrapingResult$data !== void 0 && _scrapingResult$data.length)) {\n          throw new Error(scrapingResult.error || 'Scraping failed');\n        }\n        scrapedData = scrapingResult.data || [];\n        setProgress({\n          current: validUrls.length,\n          total: validUrls.length\n        });\n        if ((_scrapingResult$inval = scrapingResult.invalid_urls) !== null && _scrapingResult$inval !== void 0 && _scrapingResult$inval.length) {\n          console.warn('Invalid URLs:', scrapingResult.invalid_urls);\n        }\n      }\n\n      // Parse CSV if provided\n      if ((inputMode === 'csv' || inputMode === 'both') && csvContent) {\n        var _parseResult$warnings;\n        const parseResult = await api.parseCSV(csvContent, csvPlatform);\n        if (!parseResult.success) {\n          throw new Error(parseResult.error || 'CSV parsing failed');\n        }\n        csvReviews = parseResult.data || [];\n        if ((_parseResult$warnings = parseResult.warnings) !== null && _parseResult$warnings !== void 0 && _parseResult$warnings.length) {\n          console.warn('CSV warnings:', parseResult.warnings);\n        }\n      }\n\n      // Combine and normalize\n      const allReviews = [...scrapedData.flatMap(p => p.reviews), ...csvReviews];\n      if (allReviews.length === 0) {\n        throw new Error('No reviews were extracted. Check your inputs.');\n      }\n      onDataExtracted({\n        reviews: allReviews,\n        products: scrapedData,\n        source: inputMode === 'both' ? 'both' : inputMode === 'urls' ? 'scraping' : 'csv'\n      });\n    } catch (err) {\n      onError(err.message || 'Extraction failed');\n    } finally {\n      setIsLoading(false);\n      setProgress(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-secondary-700 mb-2\",\n        children: \"Data Source\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex rounded-lg border border-secondary-200 overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setInputMode('urls'),\n          className: `flex-1 px-4 py-2 text-sm font-medium transition-colors ${inputMode === 'urls' ? 'bg-primary-100 text-primary-700' : 'bg-white text-secondary-600 hover:bg-secondary-50'}`,\n          children: \"Scrape URLs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setInputMode('csv'),\n          className: `flex-1 px-4 py-2 text-sm font-medium transition-colors border-l border-r border-secondary-200 ${inputMode === 'csv' ? 'bg-primary-100 text-primary-700' : 'bg-white text-secondary-600 hover:bg-secondary-50'}`,\n          children: \"Upload CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setInputMode('both'),\n          className: `flex-1 px-4 py-2 text-sm font-medium transition-colors ${inputMode === 'both' ? 'bg-primary-100 text-primary-700' : 'bg-white text-secondary-600 hover:bg-secondary-50'}`,\n          children: \"Both\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), (inputMode === 'urls' || inputMode === 'both') && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-secondary-700 mb-2\",\n        children: [\"Product URLs\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-secondary-500 font-normal ml-2\",\n          children: \"(one per line)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-secondary-500\",\n          children: \"Supported:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), Object.entries(platformInfo).map(([key, info]) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `px-2 py-0.5 rounded text-xs border ${info.color}`,\n          children: [info.icon, \" \", info.name]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: urls,\n        onChange: e => setUrls(e.target.value),\n        placeholder: \"https://www.amazon.com/dp/B08N5WRWNW\\nhttps://www.amazon.com/dp/B094NC89P9\\nhttps://www.amazon.com/dp/...\",\n        rows: 5,\n        className: \"w-full px-3 py-2 border border-secondary-200 rounded-lg text-sm font-mono focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this), urlValidation.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 space-y-1\",\n        children: [validUrls.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-green-600\",\n          children: [\"\\u2713 \", validUrls.length, \" valid URL\", validUrls.length !== 1 ? 's' : '', \" detected\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-secondary-500 ml-2\",\n            children: [\"(\", validUrls.filter(u => u.platform === 'amazon').length, \" Amazon)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }, this), invalidUrls.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-red-600\",\n            children: [\"\\u2717 \", invalidUrls.length, \" invalid URL\", invalidUrls.length !== 1 ? 's' : '', /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-secondary-500 ml-2\",\n              children: \"(unsupported platform or malformed)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 19\n          }, this), invalidUrls.some(u => !u.url.includes('amazon.')) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-amber-600 bg-amber-50 border border-amber-200 rounded-lg p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"Note:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 23\n            }, this), \" Only Amazon product reviews are available right now. URLs from other platforms (Walmart, Wayfair, etc.) are not supported at this time.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }, this), scrapingStatus && !scrapingStatus.brightdata_configured && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium text-yellow-800\",\n          children: \"Note:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-yellow-700 ml-1\",\n          children: \"BrightData is not configured. Mock data will be used for testing.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this), (inputMode === 'csv' || inputMode === 'both') && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-secondary-700 mb-2\",\n        children: \"CSV File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-2 border-dashed border-secondary-200 rounded-lg p-6 text-center hover:border-primary-300 transition-colors\",\n        children: csvFilename ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl\",\n            children: \"\\uD83D\\uDCC4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium text-secondary-900\",\n            children: csvFilename\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-secondary-500\",\n            children: [csvContent.split('\\n').length - 1, \" rows detected\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setCsvContent('');\n              setCsvFilename('');\n            },\n            className: \"text-sm text-red-600 hover:text-red-700\",\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl text-secondary-400\",\n            children: \"\\uD83D\\uDCC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-secondary-600\",\n            children: [\"Drag and drop a CSV file, or\", ' ', /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-primary-600 hover:text-primary-700 cursor-pointer\",\n              children: [\"browse\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \".csv\",\n                onChange: handleFileUpload,\n                className: \"hidden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-secondary-500\",\n            children: \"Required columns: review_text, rating (or similar names)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this), csvContent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-secondary-700 mb-1\",\n          children: \"Platform for CSV data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: csvPlatform,\n          onChange: e => setCsvPlatform(e.target.value),\n          className: \"px-3 py-2 border border-secondary-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500\",\n          children: /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"amazon\",\n            children: \"Amazon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between pt-4 border-t border-secondary-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-secondary-500\",\n        children: [inputMode === 'urls' && validUrls.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [validUrls.length, \" URL\", validUrls.length !== 1 ? 's' : '', \" ready to scrape\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this), inputMode === 'csv' && csvContent && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"CSV file ready to parse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), inputMode === 'both' && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [validUrls.length > 0 && `${validUrls.length} URLs`, validUrls.length > 0 && csvContent && ' + ', csvContent && 'CSV file']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleExtract,\n        disabled: isLoading || inputMode === 'urls' && validUrls.length === 0 || inputMode === 'csv' && !csvContent || inputMode === 'both' && validUrls.length === 0 && !csvContent,\n        className: \"px-6 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\",\n        children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: progress ? `Extracting ${progress.current}/${progress.total}...` : 'Extracting...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Extract Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n};\n_s(ReviewExtractorInput, \"R3E7QyLjN6A4cAUeTc6WuzLIsR0=\");\n_c = ReviewExtractorInput;\nexport default ReviewExtractorInput;\nvar _c;\n$RefreshReg$(_c, \"ReviewExtractorInput\");","map":{"version":3,"names":["React","useState","useCallback","api","jsxDEV","_jsxDEV","Fragment","_Fragment","platformInfo","amazon","name","icon","color","ReviewExtractorInput","onDataExtracted","onError","_s","inputMode","setInputMode","urls","setUrls","csvContent","setCsvContent","csvFilename","setCsvFilename","csvPlatform","setCsvPlatform","isLoading","setIsLoading","scrapingStatus","setScrapingStatus","progress","setProgress","useEffect","getScrapingStatus","then","catch","console","error","validateUrls","urlText","lines","split","filter","line","trim","results","url","platform","includes","push","valid","startsWith","urlValidation","useMemo","validUrls","u","invalidUrls","handleFileUpload","event","_event$target$files","file","target","files","endsWith","reader","FileReader","onload","e","_e$target","result","readAsText","handleExtract","scrapedData","csvReviews","length","_scrapingResult$data","_scrapingResult$inval","current","total","scrapingResult","scrapeReviews","map","success","data","Error","invalid_urls","warn","_parseResult$warnings","parseResult","parseCSV","warnings","allReviews","flatMap","p","reviews","products","source","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","Object","entries","key","info","value","onChange","placeholder","rows","some","brightdata_configured","type","accept","disabled","_c","$RefreshReg$"],"sources":["/Users/eveyhuang/Documents/novohaven-app/client/src/components/ReviewAnalysis/ReviewExtractorInput.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport api from '../../services/api';\nimport { ScrapingPlatform, ScrapingStatus, ReviewData, ScrapedProductData } from '../../types';\n\ninterface ReviewExtractorInputProps {\n  onDataExtracted: (data: {\n    reviews: ReviewData[];\n    products: ScrapedProductData[];\n    source: 'scraping' | 'csv' | 'both';\n  }) => void;\n  onError: (error: string) => void;\n}\n\ntype InputMode = 'urls' | 'csv' | 'both';\n\n// Only Amazon is supported for now\nconst platformInfo: Record<'amazon', { name: string; icon: string; color: string }> = {\n  amazon: { name: 'Amazon', icon: 'üì¶', color: 'bg-orange-100 text-orange-800 border-orange-200' },\n};\n\nexport const ReviewExtractorInput: React.FC<ReviewExtractorInputProps> = ({\n  onDataExtracted,\n  onError,\n}) => {\n  const [inputMode, setInputMode] = useState<InputMode>('urls');\n  const [urls, setUrls] = useState<string>('');\n  const [csvContent, setCsvContent] = useState<string>('');\n  const [csvFilename, setCsvFilename] = useState<string>('');\n  const [csvPlatform, setCsvPlatform] = useState<ScrapingPlatform>('amazon');\n  const [isLoading, setIsLoading] = useState(false);\n  const [scrapingStatus, setScrapingStatus] = useState<ScrapingStatus | null>(null);\n  const [progress, setProgress] = useState<{ current: number; total: number } | null>(null);\n\n  // Check scraping status on mount\n  React.useEffect(() => {\n    api.getScrapingStatus().then(setScrapingStatus).catch(console.error);\n  }, []);\n\n  // Validate and detect platforms from URLs\n  const validateUrls = useCallback((urlText: string) => {\n    const lines = urlText.split('\\n').filter(line => line.trim());\n    const results: { url: string; platform: ScrapingPlatform | null; valid: boolean }[] = [];\n\n    for (const line of lines) {\n      const url = line.trim();\n      let platform: ScrapingPlatform | null = null;\n\n      // Only Amazon is supported for now\n      if (url.includes('amazon.')) platform = 'amazon';\n\n      results.push({\n        url,\n        platform,\n        valid: platform !== null && (url.startsWith('http://') || url.startsWith('https://')),\n      });\n    }\n\n    return results;\n  }, []);\n\n  const urlValidation = React.useMemo(() => validateUrls(urls), [urls, validateUrls]);\n  const validUrls = urlValidation.filter(u => u.valid);\n  const invalidUrls = urlValidation.filter(u => !u.valid && u.url);\n\n  // Handle file upload\n  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    if (!file.name.endsWith('.csv')) {\n      onError('Please upload a CSV file');\n      return;\n    }\n\n    setCsvFilename(file.name);\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      setCsvContent(e.target?.result as string);\n    };\n    reader.readAsText(file);\n  };\n\n  // Handle extraction\n  const handleExtract = async () => {\n    setIsLoading(true);\n    setProgress(null);\n\n    try {\n      let scrapedData: ScrapedProductData[] = [];\n      let csvReviews: ReviewData[] = [];\n\n      // Scrape URLs if provided\n      if ((inputMode === 'urls' || inputMode === 'both') && validUrls.length > 0) {\n        setProgress({ current: 0, total: validUrls.length });\n\n        const scrapingResult = await api.scrapeReviews(validUrls.map(u => u.url));\n\n        if (!scrapingResult.success && !scrapingResult.data?.length) {\n          throw new Error(scrapingResult.error || 'Scraping failed');\n        }\n\n        scrapedData = scrapingResult.data || [];\n        setProgress({ current: validUrls.length, total: validUrls.length });\n\n        if (scrapingResult.invalid_urls?.length) {\n          console.warn('Invalid URLs:', scrapingResult.invalid_urls);\n        }\n      }\n\n      // Parse CSV if provided\n      if ((inputMode === 'csv' || inputMode === 'both') && csvContent) {\n        const parseResult = await api.parseCSV(csvContent, csvPlatform);\n\n        if (!parseResult.success) {\n          throw new Error(parseResult.error || 'CSV parsing failed');\n        }\n\n        csvReviews = parseResult.data || [];\n\n        if (parseResult.warnings?.length) {\n          console.warn('CSV warnings:', parseResult.warnings);\n        }\n      }\n\n      // Combine and normalize\n      const allReviews: ReviewData[] = [\n        ...scrapedData.flatMap(p => p.reviews),\n        ...csvReviews,\n      ];\n\n      if (allReviews.length === 0) {\n        throw new Error('No reviews were extracted. Check your inputs.');\n      }\n\n      onDataExtracted({\n        reviews: allReviews,\n        products: scrapedData,\n        source: inputMode === 'both' ? 'both' : inputMode === 'urls' ? 'scraping' : 'csv',\n      });\n\n    } catch (err: any) {\n      onError(err.message || 'Extraction failed');\n    } finally {\n      setIsLoading(false);\n      setProgress(null);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Input Mode Selector */}\n      <div>\n        <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n          Data Source\n        </label>\n        <div className=\"flex rounded-lg border border-secondary-200 overflow-hidden\">\n          <button\n            onClick={() => setInputMode('urls')}\n            className={`flex-1 px-4 py-2 text-sm font-medium transition-colors ${\n              inputMode === 'urls'\n                ? 'bg-primary-100 text-primary-700'\n                : 'bg-white text-secondary-600 hover:bg-secondary-50'\n            }`}\n          >\n            Scrape URLs\n          </button>\n          <button\n            onClick={() => setInputMode('csv')}\n            className={`flex-1 px-4 py-2 text-sm font-medium transition-colors border-l border-r border-secondary-200 ${\n              inputMode === 'csv'\n                ? 'bg-primary-100 text-primary-700'\n                : 'bg-white text-secondary-600 hover:bg-secondary-50'\n            }`}\n          >\n            Upload CSV\n          </button>\n          <button\n            onClick={() => setInputMode('both')}\n            className={`flex-1 px-4 py-2 text-sm font-medium transition-colors ${\n              inputMode === 'both'\n                ? 'bg-primary-100 text-primary-700'\n                : 'bg-white text-secondary-600 hover:bg-secondary-50'\n            }`}\n          >\n            Both\n          </button>\n        </div>\n      </div>\n\n      {/* URL Input */}\n      {(inputMode === 'urls' || inputMode === 'both') && (\n        <div>\n          <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n            Product URLs\n            <span className=\"text-secondary-500 font-normal ml-2\">\n              (one per line)\n            </span>\n          </label>\n\n          {/* Supported Platforms */}\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <span className=\"text-xs text-secondary-500\">Supported:</span>\n            {Object.entries(platformInfo).map(([key, info]) => (\n              <span\n                key={key}\n                className={`px-2 py-0.5 rounded text-xs border ${info.color}`}\n              >\n                {info.icon} {info.name}\n              </span>\n            ))}\n          </div>\n\n          <textarea\n            value={urls}\n            onChange={(e) => setUrls(e.target.value)}\n            placeholder=\"https://www.amazon.com/dp/B08N5WRWNW&#10;https://www.amazon.com/dp/B094NC89P9&#10;https://www.amazon.com/dp/...\"\n            rows={5}\n            className=\"w-full px-3 py-2 border border-secondary-200 rounded-lg text-sm font-mono focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n          />\n\n          {/* URL Validation */}\n          {urlValidation.length > 0 && (\n            <div className=\"mt-2 space-y-1\">\n              {validUrls.length > 0 && (\n                <div className=\"text-sm text-green-600\">\n                  ‚úì {validUrls.length} valid URL{validUrls.length !== 1 ? 's' : ''} detected\n                  <span className=\"text-secondary-500 ml-2\">\n                    ({validUrls.filter(u => u.platform === 'amazon').length} Amazon)\n                  </span>\n                </div>\n              )}\n              {invalidUrls.length > 0 && (\n                <div className=\"space-y-2\">\n                  <div className=\"text-sm text-red-600\">\n                    ‚úó {invalidUrls.length} invalid URL{invalidUrls.length !== 1 ? 's' : ''}\n                    <span className=\"text-secondary-500 ml-2\">\n                      (unsupported platform or malformed)\n                    </span>\n                  </div>\n                  {invalidUrls.some(u => !u.url.includes('amazon.')) && (\n                    <div className=\"text-sm text-amber-600 bg-amber-50 border border-amber-200 rounded-lg p-2\">\n                      <span className=\"font-medium\">Note:</span> Only Amazon product reviews are available right now. \n                      URLs from other platforms (Walmart, Wayfair, etc.) are not supported at this time.\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* BrightData Status */}\n          {scrapingStatus && !scrapingStatus.brightdata_configured && (\n            <div className=\"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm\">\n              <span className=\"font-medium text-yellow-800\">Note:</span>\n              <span className=\"text-yellow-700 ml-1\">\n                BrightData is not configured. Mock data will be used for testing.\n              </span>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* CSV Input */}\n      {(inputMode === 'csv' || inputMode === 'both') && (\n        <div>\n          <label className=\"block text-sm font-medium text-secondary-700 mb-2\">\n            CSV File\n          </label>\n\n          <div className=\"border-2 border-dashed border-secondary-200 rounded-lg p-6 text-center hover:border-primary-300 transition-colors\">\n            {csvFilename ? (\n              <div className=\"space-y-2\">\n                <div className=\"text-4xl\">üìÑ</div>\n                <div className=\"font-medium text-secondary-900\">{csvFilename}</div>\n                <div className=\"text-sm text-secondary-500\">\n                  {csvContent.split('\\n').length - 1} rows detected\n                </div>\n                <button\n                  onClick={() => {\n                    setCsvContent('');\n                    setCsvFilename('');\n                  }}\n                  className=\"text-sm text-red-600 hover:text-red-700\"\n                >\n                  Remove\n                </button>\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                <div className=\"text-4xl text-secondary-400\">üìÅ</div>\n                <div className=\"text-secondary-600\">\n                  Drag and drop a CSV file, or{' '}\n                  <label className=\"text-primary-600 hover:text-primary-700 cursor-pointer\">\n                    browse\n                    <input\n                      type=\"file\"\n                      accept=\".csv\"\n                      onChange={handleFileUpload}\n                      className=\"hidden\"\n                    />\n                  </label>\n                </div>\n                <div className=\"text-xs text-secondary-500\">\n                  Required columns: review_text, rating (or similar names)\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* CSV Platform selector */}\n          {csvContent && (\n            <div className=\"mt-3\">\n              <label className=\"block text-sm font-medium text-secondary-700 mb-1\">\n                Platform for CSV data\n              </label>\n              <select\n                value={csvPlatform}\n                onChange={(e) => setCsvPlatform(e.target.value as ScrapingPlatform)}\n                className=\"px-3 py-2 border border-secondary-200 rounded-lg text-sm focus:ring-2 focus:ring-primary-500\"\n              >\n                <option value=\"amazon\">Amazon</option>\n              </select>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Extract Button */}\n      <div className=\"flex items-center justify-between pt-4 border-t border-secondary-200\">\n        <div className=\"text-sm text-secondary-500\">\n          {inputMode === 'urls' && validUrls.length > 0 && (\n            <span>{validUrls.length} URL{validUrls.length !== 1 ? 's' : ''} ready to scrape</span>\n          )}\n          {inputMode === 'csv' && csvContent && (\n            <span>CSV file ready to parse</span>\n          )}\n          {inputMode === 'both' && (\n            <span>\n              {validUrls.length > 0 && `${validUrls.length} URLs`}\n              {validUrls.length > 0 && csvContent && ' + '}\n              {csvContent && 'CSV file'}\n            </span>\n          )}\n        </div>\n\n        <button\n          onClick={handleExtract}\n          disabled={\n            isLoading ||\n            (inputMode === 'urls' && validUrls.length === 0) ||\n            (inputMode === 'csv' && !csvContent) ||\n            (inputMode === 'both' && validUrls.length === 0 && !csvContent)\n          }\n          className=\"px-6 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\n        >\n          {isLoading ? (\n            <>\n              <span className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></span>\n              <span>\n                {progress\n                  ? `Extracting ${progress.current}/${progress.total}...`\n                  : 'Extracting...'}\n              </span>\n            </>\n          ) : (\n            <span>Extract Reviews</span>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ReviewExtractorInput;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}